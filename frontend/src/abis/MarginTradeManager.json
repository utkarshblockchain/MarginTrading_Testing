{
    "abi": [
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "_liquidationEngineAddress",
                    "type": "address"
                },
                {
                    "internalType": "address",
                    "name": "_feeCollector",
                    "type": "address"
                }
            ],
            "stateMutability": "nonpayable",
            "type": "constructor"
        },
        {
            "anonymous": false,
            "inputs": [
                {
                    "indexed": true,
                    "internalType": "address",
                    "name": "user",
                    "type": "address"
                },
                {
                    "indexed": true,
                    "internalType": "address",
                    "name": "token",
                    "type": "address"
                },
                {
                    "indexed": false,
                    "internalType": "uint256",
                    "name": "amount",
                    "type": "uint256"
                }
            ],
            "name": "MarginDeposited",
            "type": "event"
        },
        {
            "anonymous": false,
            "inputs": [
                {
                    "indexed": true,
                    "internalType": "address",
                    "name": "user",
                    "type": "address"
                },
                {
                    "indexed": false,
                    "internalType": "uint256",
                    "name": "positionSize",
                    "type": "uint256"
                },
                {
                    "indexed": false,
                    "internalType": "uint256",
                    "name": "entryPrice",
                    "type": "uint256"
                },
                {
                    "indexed": false,
                    "internalType": "uint256",
                    "name": "leverage",
                    "type": "uint256"
                },
                {
                    "indexed": false,
                    "internalType": "uint256",
                    "name": "sltp",
                    "type": "uint256"
                },
                {
                    "indexed": false,
                    "internalType": "bool",
                    "name": "reduceOnly",
                    "type": "bool"
                },
                {
                    "indexed": false,
                    "internalType": "uint8",
                    "name": "positionType",
                    "type": "uint8"
                }
            ],
            "name": "PositionOpened",
            "type": "event"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "tokenAddress",
                    "type": "address"
                }
            ],
            "name": "addSupportedCollateralToken",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "uint256",
                    "name": "positionId",
                    "type": "uint256"
                }
            ],
            "name": "closePosition",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "depositMargin",
            "outputs": [],
            "stateMutability": "payable",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "tokenAddress",
                    "type": "address"
                },
                {
                    "internalType": "uint256",
                    "name": "amount",
                    "type": "uint256"
                }
            ],
            "name": "depositMarginERC20",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "feeCollector",
            "outputs": [
                {
                    "internalType": "address",
                    "name": "",
                    "type": "address"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "liquidationEngine",
            "outputs": [
                {
                    "internalType": "contract ILiquidationEngine",
                    "name": "",
                    "type": "address"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "maxLeverage",
            "outputs": [
                {
                    "internalType": "uint256",
                    "name": "",
                    "type": "uint256"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "minMargin",
            "outputs": [
                {
                    "internalType": "uint256",
                    "name": "",
                    "type": "uint256"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "uint256",
                    "name": "positionSize",
                    "type": "uint256"
                },
                {
                    "internalType": "uint256",
                    "name": "leverage",
                    "type": "uint256"
                },
                {
                    "internalType": "uint256",
                    "name": "sltp",
                    "type": "uint256"
                },
                {
                    "internalType": "bool",
                    "name": "reduceOnly",
                    "type": "bool"
                },
                {
                    "internalType": "uint8",
                    "name": "positionType",
                    "type": "uint8"
                }
            ],
            "name": "openPosition",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "",
                    "type": "address"
                },
                {
                    "internalType": "uint256",
                    "name": "",
                    "type": "uint256"
                }
            ],
            "name": "positions",
            "outputs": [
                {
                    "internalType": "address",
                    "name": "owner",
                    "type": "address"
                },
                {
                    "internalType": "address",
                    "name": "collateralToken",
                    "type": "address"
                },
                {
                    "internalType": "uint256",
                    "name": "margin",
                    "type": "uint256"
                },
                {
                    "internalType": "uint256",
                    "name": "positionSize",
                    "type": "uint256"
                },
                {
                    "internalType": "uint256",
                    "name": "entryPrice",
                    "type": "uint256"
                },
                {
                    "internalType": "bool",
                    "name": "open",
                    "type": "bool"
                },
                {
                    "internalType": "int256",
                    "name": "lastEffectiveMargin",
                    "type": "int256"
                },
                {
                    "internalType": "uint256",
                    "name": "lastMarginRatio",
                    "type": "uint256"
                },
                {
                    "internalType": "uint256",
                    "name": "lastUpdated",
                    "type": "uint256"
                },
                {
                    "internalType": "uint256",
                    "name": "leverage",
                    "type": "uint256"
                },
                {
                    "internalType": "uint256",
                    "name": "sltp",
                    "type": "uint256"
                },
                {
                    "internalType": "bool",
                    "name": "reduceOnly",
                    "type": "bool"
                },
                {
                    "internalType": "uint8",
                    "name": "positionType",
                    "type": "uint8"
                },
                {
                    "internalType": "uint256",
                    "name": "realizedPnL",
                    "type": "uint256"
                },
                {
                    "internalType": "uint256",
                    "name": "fees",
                    "type": "uint256"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [],
            "name": "openFeeRate",
            "outputs": [
                {
                    "internalType": "uint256",
                    "name": "",
                    "type": "uint256"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "tokenAddress",
                    "type": "address"
                }
            ],
            "name": "removeSupportedCollateralToken",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "uint256",
                    "name": "_openFeeRate",
                    "type": "uint256"
                },
                {
                    "internalType": "uint256",
                    "name": "_closeFeeRate",
                    "type": "uint256"
                }
            ],
            "name": "setFeeRates",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "_feeCollector",
                    "type": "address"
                }
            ],
            "name": "setFeeCollector",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "uint256",
                    "name": "_maxLeverage",
                    "type": "uint256"
                }
            ],
            "name": "setMaxLeverage",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "uint256",
                    "name": "_minMargin",
                    "type": "uint256"
                }
            ],
            "name": "setMinMargin",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "",
                    "type": "address"
                }
            ],
            "name": "supportedCollateralTokens",
            "outputs": [
                {
                    "internalType": "bool",
                    "name": "",
                    "type": "bool"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        },
        {
            "inputs": [
                {
                    "internalType": "address",
                    "name": "",
                    "type": "address"
                }
            ],
            "name": "userPositionIds",
            "outputs": [
                {
                    "internalType": "uint256",
                    "name": "",
                    "type": "uint256"
                }
            ],
            "stateMutability": "view",
            "type": "function"
        }
    ]
}
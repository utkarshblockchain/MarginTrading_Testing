{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\UTKARSH\\\\MarginTrading_Testing\\\\frontend\\\\src\\\\components\\\\TradingForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useWeb3 } from '../context/Web3Context';\nimport '../styles/TradingForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TradingForm = () => {\n  _s();\n  const {\n    web3,\n    contracts,\n    account,\n    ethPrice\n  } = useWeb3();\n  const [positionSize, setPositionSize] = useState('');\n  const [leverage, setLeverage] = useState('2');\n  const [positionType, setPositionType] = useState('long');\n  const [sltp, setSltp] = useState('0'); // Stop loss/take profit\n  const [reduceOnly, setReduceOnly] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [hasDeposit, setHasDeposit] = useState(false);\n\n  // Check if user has deposited collateral\n  useEffect(() => {\n    const checkDeposit = async () => {\n      if (!web3 || !contracts || !account) return;\n      try {\n        console.log(\"Checking for collateral deposits...\");\n\n        // Check ETH margin\n        const ethMargin = await contracts.marginTrading.methods.userMargin(account).call();\n        console.log(\"ETH margin:\", ethMargin);\n\n        // Check ERC20 token margin\n        const tokenMargin = await contracts.marginTrading.methods.userTokenMargin(account, contracts.mockToken.options.address).call();\n        console.log(\"Token margin:\", tokenMargin);\n\n        // If either ETH or token margin is greater than 0, user has a deposit\n        const hasEthDeposit = parseFloat(web3.utils.fromWei(ethMargin, 'ether')) > 0;\n        const hasTokenDeposit = parseFloat(web3.utils.fromWei(tokenMargin, 'ether')) > 0;\n        setHasDeposit(hasEthDeposit || hasTokenDeposit);\n        console.log(\"Has deposit:\", hasEthDeposit || hasTokenDeposit);\n      } catch (error) {\n        console.error(\"Error checking deposit:\", error);\n        setHasDeposit(false);\n      }\n    };\n    checkDeposit();\n  }, [web3, contracts, account]);\n  const handleOpenPosition = async e => {\n    e.preventDefault();\n    if (!positionSize || !leverage) {\n      setError('Please fill in all required fields');\n      return;\n    }\n    if (!hasDeposit) {\n      setError('You need to deposit collateral before opening a position');\n      return;\n    }\n    try {\n      setLoading(true);\n      setError(null);\n      setSuccess(null);\n      if (!web3 || !contracts || !contracts.marginTrading) {\n        throw new Error(\"Web3 or contracts not initialized. Please refresh the page and try again.\");\n      }\n      const sizeWei = web3.utils.toWei(positionSize, 'ether');\n      const leverageValue = parseInt(leverage);\n      const sltpValue = parseInt(sltp);\n      const positionTypeValue = positionType === 'long' ? 0 : 1; // 0 for LONG, 1 for SHORT\n\n      console.log(\"Opening position with params:\", {\n        sizeWei,\n        leverageValue,\n        sltpValue,\n        reduceOnly,\n        positionTypeValue\n      });\n      await contracts.marginTrading.methods.openPosition(sizeWei, leverageValue, sltpValue, reduceOnly, positionTypeValue).send({\n        from: account\n      });\n\n      // Reset form\n      setPositionSize('');\n      setSuccess(`Successfully opened a ${positionType} position with ${leverage}x leverage`);\n    } catch (error) {\n      console.error(\"Error opening position:\", error);\n      setError(error.message || \"Failed to open position. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleClosePosition = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      setSuccess(null);\n      if (!web3 || !contracts || !contracts.marginTrading) {\n        throw new Error(\"Web3 or contracts not initialized. Please refresh the page and try again.\");\n      }\n\n      // Using position ID 0 for simplicity\n      await contracts.marginTrading.methods.closePosition(0).send({\n        from: account\n      });\n      setSuccess(\"Position closed successfully\");\n    } catch (error) {\n      console.error(\"Error closing position:\", error);\n      setError(error.message || \"Failed to close position. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"trading-form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Open Position\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"current-price\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Current ETH Price: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"price-value\",\n        children: [\"$\", parseFloat(ethPrice).toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }, this), !hasDeposit && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"warning-message\",\n      children: \"Please deposit collateral first before opening a position\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleOpenPosition,\n      className: \"trading-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"positionSize\",\n          children: \"Position Size (ETH)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"positionSize\",\n          value: positionSize,\n          onChange: e => setPositionSize(e.target.value),\n          step: \"0.01\",\n          min: \"0.01\",\n          placeholder: \"0.1\",\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"leverage\",\n          children: \"Leverage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"leverage\",\n          value: leverage,\n          onChange: e => setLeverage(e.target.value),\n          className: \"form-control\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"2\",\n            children: \"2x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"5\",\n            children: \"5x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"10\",\n            children: \"10x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"20\",\n            children: \"20x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"50\",\n            children: \"50x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"100\",\n            children: \"100x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"positionType\",\n          children: \"Position Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"position-type-selector\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: `position-btn ${positionType === 'long' ? 'long active' : ''}`,\n            onClick: () => setPositionType('long'),\n            children: \"Long\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: `position-btn ${positionType === 'short' ? 'short active' : ''}`,\n            onClick: () => setPositionType('short'),\n            children: \"Short\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"sltp\",\n          children: \"Stop Loss/Take Profit (optional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"sltp\",\n          value: sltp,\n          onChange: e => setSltp(e.target.value),\n          min: \"0\",\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group checkbox-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"reduceOnly\",\n          checked: reduceOnly,\n          onChange: e => setReduceOnly(e.target.checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"reduceOnly\",\n          children: \"Reduce Only\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 27\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-message\",\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading || !positionSize || !hasDeposit,\n        className: \"action-button open-button\",\n        children: loading ? 'Processing...' : 'Open Position'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"close-position-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Close Position\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClosePosition,\n        disabled: loading,\n        className: \"action-button close-button\",\n        children: loading ? 'Processing...' : 'Close Position'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 9\n  }, this);\n};\n_s(TradingForm, \"HgOUGQQ8kRLLBGGOEXsp+S5hfPE=\", false, function () {\n  return [useWeb3];\n});\n_c = TradingForm;\nexport default TradingForm;\nvar _c;\n$RefreshReg$(_c, \"TradingForm\");","map":{"version":3,"names":["React","useState","useEffect","useWeb3","jsxDEV","_jsxDEV","TradingForm","_s","web3","contracts","account","ethPrice","positionSize","setPositionSize","leverage","setLeverage","positionType","setPositionType","sltp","setSltp","reduceOnly","setReduceOnly","loading","setLoading","error","setError","success","setSuccess","hasDeposit","setHasDeposit","checkDeposit","console","log","ethMargin","marginTrading","methods","userMargin","call","tokenMargin","userTokenMargin","mockToken","options","address","hasEthDeposit","parseFloat","utils","fromWei","hasTokenDeposit","handleOpenPosition","e","preventDefault","Error","sizeWei","toWei","leverageValue","parseInt","sltpValue","positionTypeValue","openPosition","send","from","message","handleClosePosition","closePosition","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","onSubmit","htmlFor","type","id","value","onChange","target","step","min","placeholder","onClick","checked","disabled","_c","$RefreshReg$"],"sources":["C:/Users/UTKARSH/MarginTrading_Testing/frontend/src/components/TradingForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useWeb3 } from '../context/Web3Context';\nimport '../styles/TradingForm.css';\n\nconst TradingForm = () => {\n    const { web3, contracts, account, ethPrice } = useWeb3();\n    const [positionSize, setPositionSize] = useState('');\n    const [leverage, setLeverage] = useState('2');\n    const [positionType, setPositionType] = useState('long');\n    const [sltp, setSltp] = useState('0'); // Stop loss/take profit\n    const [reduceOnly, setReduceOnly] = useState(false);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [success, setSuccess] = useState(null);\n    const [hasDeposit, setHasDeposit] = useState(false);\n\n    // Check if user has deposited collateral\n    useEffect(() => {\n        const checkDeposit = async () => {\n            if (!web3 || !contracts || !account) return;\n            \n            try {\n                console.log(\"Checking for collateral deposits...\");\n                \n                // Check ETH margin\n                const ethMargin = await contracts.marginTrading.methods\n                    .userMargin(account)\n                    .call();\n                \n                console.log(\"ETH margin:\", ethMargin);\n                \n                // Check ERC20 token margin\n                const tokenMargin = await contracts.marginTrading.methods\n                    .userTokenMargin(account, contracts.mockToken.options.address)\n                    .call();\n                \n                console.log(\"Token margin:\", tokenMargin);\n                \n                // If either ETH or token margin is greater than 0, user has a deposit\n                const hasEthDeposit = parseFloat(web3.utils.fromWei(ethMargin, 'ether')) > 0;\n                const hasTokenDeposit = parseFloat(web3.utils.fromWei(tokenMargin, 'ether')) > 0;\n                \n                setHasDeposit(hasEthDeposit || hasTokenDeposit);\n                \n                console.log(\"Has deposit:\", hasEthDeposit || hasTokenDeposit);\n            } catch (error) {\n                console.error(\"Error checking deposit:\", error);\n                setHasDeposit(false);\n            }\n        };\n        \n        checkDeposit();\n    }, [web3, contracts, account]);\n\n    const handleOpenPosition = async (e) => {\n        e.preventDefault();\n        if (!positionSize || !leverage) {\n            setError('Please fill in all required fields');\n            return;\n        }\n\n        if (!hasDeposit) {\n            setError('You need to deposit collateral before opening a position');\n            return;\n        }\n\n        try {\n            setLoading(true);\n            setError(null);\n            setSuccess(null);\n\n            if (!web3 || !contracts || !contracts.marginTrading) {\n                throw new Error(\"Web3 or contracts not initialized. Please refresh the page and try again.\");\n            }\n\n            const sizeWei = web3.utils.toWei(positionSize, 'ether');\n            const leverageValue = parseInt(leverage);\n            const sltpValue = parseInt(sltp);\n            const positionTypeValue = positionType === 'long' ? 0 : 1; // 0 for LONG, 1 for SHORT\n\n            console.log(\"Opening position with params:\", {\n                sizeWei,\n                leverageValue,\n                sltpValue,\n                reduceOnly,\n                positionTypeValue\n            });\n\n            await contracts.marginTrading.methods\n                .openPosition(\n                    sizeWei,\n                    leverageValue,\n                    sltpValue,\n                    reduceOnly,\n                    positionTypeValue\n                )\n                .send({ from: account });\n\n            // Reset form\n            setPositionSize('');\n            setSuccess(`Successfully opened a ${positionType} position with ${leverage}x leverage`);\n\n        } catch (error) {\n            console.error(\"Error opening position:\", error);\n            setError(error.message || \"Failed to open position. Please try again.\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleClosePosition = async () => {\n        try {\n            setLoading(true);\n            setError(null);\n            setSuccess(null);\n\n            if (!web3 || !contracts || !contracts.marginTrading) {\n                throw new Error(\"Web3 or contracts not initialized. Please refresh the page and try again.\");\n            }\n\n            // Using position ID 0 for simplicity\n            await contracts.marginTrading.methods\n                .closePosition(0)\n                .send({ from: account });\n\n            setSuccess(\"Position closed successfully\");\n\n        } catch (error) {\n            console.error(\"Error closing position:\", error);\n            setError(error.message || \"Failed to close position. Please try again.\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"trading-form-container\">\n            <h2>Open Position</h2>\n            <div className=\"current-price\">\n                <span>Current ETH Price: </span>\n                <span className=\"price-value\">${parseFloat(ethPrice).toFixed(2)}</span>\n            </div>\n            \n            {!hasDeposit && (\n                <div className=\"warning-message\">\n                    Please deposit collateral first before opening a position\n                </div>\n            )}\n            \n            <form onSubmit={handleOpenPosition} className=\"trading-form\">\n                <div className=\"form-group\">\n                    <label htmlFor=\"positionSize\">Position Size (ETH)</label>\n                    <input\n                        type=\"number\"\n                        id=\"positionSize\"\n                        value={positionSize}\n                        onChange={(e) => setPositionSize(e.target.value)}\n                        step=\"0.01\"\n                        min=\"0.01\"\n                        placeholder=\"0.1\"\n                        className=\"form-control\"\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"leverage\">Leverage</label>\n                    <select\n                        id=\"leverage\"\n                        value={leverage}\n                        onChange={(e) => setLeverage(e.target.value)}\n                        className=\"form-control\"\n                    >\n                        <option value=\"2\">2x</option>\n                        <option value=\"5\">5x</option>\n                        <option value=\"10\">10x</option>\n                        <option value=\"20\">20x</option>\n                        <option value=\"50\">50x</option>\n                        <option value=\"100\">100x</option>\n                    </select>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"positionType\">Position Type</label>\n                    <div className=\"position-type-selector\">\n                        <button \n                            type=\"button\" \n                            className={`position-btn ${positionType === 'long' ? 'long active' : ''}`}\n                            onClick={() => setPositionType('long')}\n                        >\n                            Long\n                        </button>\n                        <button \n                            type=\"button\" \n                            className={`position-btn ${positionType === 'short' ? 'short active' : ''}`}\n                            onClick={() => setPositionType('short')}\n                        >\n                            Short\n                        </button>\n                    </div>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"sltp\">Stop Loss/Take Profit (optional)</label>\n                    <input\n                        type=\"number\"\n                        id=\"sltp\"\n                        value={sltp}\n                        onChange={(e) => setSltp(e.target.value)}\n                        min=\"0\"\n                        className=\"form-control\"\n                    />\n                </div>\n\n                <div className=\"form-group checkbox-group\">\n                    <input\n                        type=\"checkbox\"\n                        id=\"reduceOnly\"\n                        checked={reduceOnly}\n                        onChange={(e) => setReduceOnly(e.target.checked)}\n                    />\n                    <label htmlFor=\"reduceOnly\">Reduce Only</label>\n                </div>\n\n                {error && <div className=\"error-message\">{error}</div>}\n                {success && <div className=\"success-message\">{success}</div>}\n\n                <button \n                    type=\"submit\" \n                    disabled={loading || !positionSize || !hasDeposit} \n                    className=\"action-button open-button\"\n                >\n                    {loading ? 'Processing...' : 'Open Position'}\n                </button>\n            </form>\n\n            <div className=\"close-position-container\">\n                <h2>Close Position</h2>\n                <button\n                    onClick={handleClosePosition}\n                    disabled={loading}\n                    className=\"action-button close-button\"\n                >\n                    {loading ? 'Processing...' : 'Close Position'}\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default TradingForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
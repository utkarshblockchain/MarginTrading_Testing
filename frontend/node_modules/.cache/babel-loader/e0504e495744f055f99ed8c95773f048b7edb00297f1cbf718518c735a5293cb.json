{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\UTKARSH\\\\MarginTrading_Testing\\\\frontend\\\\src\\\\components\\\\TradingForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useWeb3 } from '../context/Web3Context';\nimport '../styles/TradingForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TradingForm = () => {\n  _s();\n  const {\n    web3,\n    contracts,\n    account,\n    ethPrice\n  } = useWeb3();\n  const [positionSize, setPositionSize] = useState('');\n  const [leverage, setLeverage] = useState('2');\n  const [positionType, setPositionType] = useState('long');\n  const [sltp, setSltp] = useState('0'); // Stop loss/take profit\n  const [reduceOnly, setReduceOnly] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  const [hasDeposit, setHasDeposit] = useState(false);\n\n  // Check if user has deposited collateral\n  useEffect(() => {\n    const checkDeposit = async () => {\n      if (!web3 || !contracts || !account) return;\n      try {\n        // Get the user's position count\n        const positionCount = await contracts.marginTrading.methods.userPositionCount(account).call();\n        if (positionCount > 0) {\n          // Get the first position's margin\n          const position = await contracts.marginTrading.methods.positions(account, 0).call();\n          setHasDeposit(parseFloat(web3.utils.fromWei(position.margin, 'ether')) > 0);\n        } else {\n          setHasDeposit(false);\n        }\n      } catch (error) {\n        console.error(\"Error checking deposit:\", error);\n        setHasDeposit(false);\n      }\n    };\n    checkDeposit();\n  }, [web3, contracts, account]);\n  const handleOpenPosition = async e => {\n    e.preventDefault();\n    if (!positionSize || !leverage) {\n      setError('Please fill in all required fields');\n      return;\n    }\n    if (!hasDeposit) {\n      setError('You need to deposit collateral before opening a position');\n      return;\n    }\n    try {\n      setLoading(true);\n      setError(null);\n      setSuccess(null);\n      if (!web3 || !contracts || !contracts.marginTrading) {\n        throw new Error(\"Web3 or contracts not initialized. Please refresh the page and try again.\");\n      }\n      const sizeWei = web3.utils.toWei(positionSize, 'ether');\n      const leverageValue = parseInt(leverage);\n      const sltpValue = parseInt(sltp);\n      const positionTypeValue = positionType === 'long' ? 0 : 1; // 0 for LONG, 1 for SHORT\n\n      console.log(\"Opening position with params:\", {\n        sizeWei,\n        leverageValue,\n        sltpValue,\n        reduceOnly,\n        positionTypeValue\n      });\n      await contracts.marginTrading.methods.openPosition(sizeWei, leverageValue, sltpValue, reduceOnly, positionTypeValue).send({\n        from: account\n      });\n\n      // Reset form\n      setPositionSize('');\n      setSuccess(`Successfully opened a ${positionType} position with ${leverage}x leverage`);\n    } catch (error) {\n      console.error(\"Error opening position:\", error);\n      setError(error.message || \"Failed to open position. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleClosePosition = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      setSuccess(null);\n      if (!web3 || !contracts || !contracts.marginTrading) {\n        throw new Error(\"Web3 or contracts not initialized. Please refresh the page and try again.\");\n      }\n\n      // Using position ID 0 for simplicity\n      await contracts.marginTrading.methods.closePosition(0).send({\n        from: account\n      });\n      setSuccess(\"Position closed successfully\");\n    } catch (error) {\n      console.error(\"Error closing position:\", error);\n      setError(error.message || \"Failed to close position. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"trading-form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Open Position\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"current-price\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Current ETH Price: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"price-value\",\n        children: [\"$\", parseFloat(ethPrice).toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this), !hasDeposit && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"warning-message\",\n      children: \"Please deposit collateral first before opening a position\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleOpenPosition,\n      className: \"trading-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"positionSize\",\n          children: \"Position Size (ETH)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"positionSize\",\n          value: positionSize,\n          onChange: e => setPositionSize(e.target.value),\n          step: \"0.01\",\n          min: \"0.01\",\n          placeholder: \"0.1\",\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"leverage\",\n          children: \"Leverage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"leverage\",\n          value: leverage,\n          onChange: e => setLeverage(e.target.value),\n          className: \"form-control\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"2\",\n            children: \"2x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"5\",\n            children: \"5x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"10\",\n            children: \"10x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"20\",\n            children: \"20x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"50\",\n            children: \"50x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"100\",\n            children: \"100x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"positionType\",\n          children: \"Position Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"position-type-selector\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: `position-btn ${positionType === 'long' ? 'long active' : ''}`,\n            onClick: () => setPositionType('long'),\n            children: \"Long\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: `position-btn ${positionType === 'short' ? 'short active' : ''}`,\n            onClick: () => setPositionType('short'),\n            children: \"Short\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"sltp\",\n          children: \"Stop Loss/Take Profit (optional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"sltp\",\n          value: sltp,\n          onChange: e => setSltp(e.target.value),\n          min: \"0\",\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group checkbox-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"reduceOnly\",\n          checked: reduceOnly,\n          onChange: e => setReduceOnly(e.target.checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"reduceOnly\",\n          children: \"Reduce Only\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 27\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-message\",\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading || !positionSize || !hasDeposit,\n        className: \"action-button open-button\",\n        children: loading ? 'Processing...' : 'Open Position'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"close-position-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Close Position\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClosePosition,\n        disabled: loading,\n        className: \"action-button close-button\",\n        children: loading ? 'Processing...' : 'Close Position'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 9\n  }, this);\n};\n_s(TradingForm, \"HgOUGQQ8kRLLBGGOEXsp+S5hfPE=\", false, function () {\n  return [useWeb3];\n});\n_c = TradingForm;\nexport default TradingForm;\nvar _c;\n$RefreshReg$(_c, \"TradingForm\");","map":{"version":3,"names":["React","useState","useEffect","useWeb3","jsxDEV","_jsxDEV","TradingForm","_s","web3","contracts","account","ethPrice","positionSize","setPositionSize","leverage","setLeverage","positionType","setPositionType","sltp","setSltp","reduceOnly","setReduceOnly","loading","setLoading","error","setError","success","setSuccess","hasDeposit","setHasDeposit","checkDeposit","positionCount","marginTrading","methods","userPositionCount","call","position","positions","parseFloat","utils","fromWei","margin","console","handleOpenPosition","e","preventDefault","Error","sizeWei","toWei","leverageValue","parseInt","sltpValue","positionTypeValue","log","openPosition","send","from","message","handleClosePosition","closePosition","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","onSubmit","htmlFor","type","id","value","onChange","target","step","min","placeholder","onClick","checked","disabled","_c","$RefreshReg$"],"sources":["C:/Users/UTKARSH/MarginTrading_Testing/frontend/src/components/TradingForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useWeb3 } from '../context/Web3Context';\nimport '../styles/TradingForm.css';\n\nconst TradingForm = () => {\n    const { web3, contracts, account, ethPrice } = useWeb3();\n    const [positionSize, setPositionSize] = useState('');\n    const [leverage, setLeverage] = useState('2');\n    const [positionType, setPositionType] = useState('long');\n    const [sltp, setSltp] = useState('0'); // Stop loss/take profit\n    const [reduceOnly, setReduceOnly] = useState(false);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [success, setSuccess] = useState(null);\n    const [hasDeposit, setHasDeposit] = useState(false);\n\n    // Check if user has deposited collateral\n    useEffect(() => {\n        const checkDeposit = async () => {\n            if (!web3 || !contracts || !account) return;\n            \n            try {\n                // Get the user's position count\n                const positionCount = await contracts.marginTrading.methods\n                    .userPositionCount(account)\n                    .call();\n                \n                if (positionCount > 0) {\n                    // Get the first position's margin\n                    const position = await contracts.marginTrading.methods\n                        .positions(account, 0)\n                        .call();\n                    \n                    setHasDeposit(parseFloat(web3.utils.fromWei(position.margin, 'ether')) > 0);\n                } else {\n                    setHasDeposit(false);\n                }\n            } catch (error) {\n                console.error(\"Error checking deposit:\", error);\n                setHasDeposit(false);\n            }\n        };\n        \n        checkDeposit();\n    }, [web3, contracts, account]);\n\n    const handleOpenPosition = async (e) => {\n        e.preventDefault();\n        if (!positionSize || !leverage) {\n            setError('Please fill in all required fields');\n            return;\n        }\n\n        if (!hasDeposit) {\n            setError('You need to deposit collateral before opening a position');\n            return;\n        }\n\n        try {\n            setLoading(true);\n            setError(null);\n            setSuccess(null);\n\n            if (!web3 || !contracts || !contracts.marginTrading) {\n                throw new Error(\"Web3 or contracts not initialized. Please refresh the page and try again.\");\n            }\n\n            const sizeWei = web3.utils.toWei(positionSize, 'ether');\n            const leverageValue = parseInt(leverage);\n            const sltpValue = parseInt(sltp);\n            const positionTypeValue = positionType === 'long' ? 0 : 1; // 0 for LONG, 1 for SHORT\n\n            console.log(\"Opening position with params:\", {\n                sizeWei,\n                leverageValue,\n                sltpValue,\n                reduceOnly,\n                positionTypeValue\n            });\n\n            await contracts.marginTrading.methods\n                .openPosition(\n                    sizeWei,\n                    leverageValue,\n                    sltpValue,\n                    reduceOnly,\n                    positionTypeValue\n                )\n                .send({ from: account });\n\n            // Reset form\n            setPositionSize('');\n            setSuccess(`Successfully opened a ${positionType} position with ${leverage}x leverage`);\n\n        } catch (error) {\n            console.error(\"Error opening position:\", error);\n            setError(error.message || \"Failed to open position. Please try again.\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleClosePosition = async () => {\n        try {\n            setLoading(true);\n            setError(null);\n            setSuccess(null);\n\n            if (!web3 || !contracts || !contracts.marginTrading) {\n                throw new Error(\"Web3 or contracts not initialized. Please refresh the page and try again.\");\n            }\n\n            // Using position ID 0 for simplicity\n            await contracts.marginTrading.methods\n                .closePosition(0)\n                .send({ from: account });\n\n            setSuccess(\"Position closed successfully\");\n\n        } catch (error) {\n            console.error(\"Error closing position:\", error);\n            setError(error.message || \"Failed to close position. Please try again.\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"trading-form-container\">\n            <h2>Open Position</h2>\n            <div className=\"current-price\">\n                <span>Current ETH Price: </span>\n                <span className=\"price-value\">${parseFloat(ethPrice).toFixed(2)}</span>\n            </div>\n            \n            {!hasDeposit && (\n                <div className=\"warning-message\">\n                    Please deposit collateral first before opening a position\n                </div>\n            )}\n            \n            <form onSubmit={handleOpenPosition} className=\"trading-form\">\n                <div className=\"form-group\">\n                    <label htmlFor=\"positionSize\">Position Size (ETH)</label>\n                    <input\n                        type=\"number\"\n                        id=\"positionSize\"\n                        value={positionSize}\n                        onChange={(e) => setPositionSize(e.target.value)}\n                        step=\"0.01\"\n                        min=\"0.01\"\n                        placeholder=\"0.1\"\n                        className=\"form-control\"\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"leverage\">Leverage</label>\n                    <select\n                        id=\"leverage\"\n                        value={leverage}\n                        onChange={(e) => setLeverage(e.target.value)}\n                        className=\"form-control\"\n                    >\n                        <option value=\"2\">2x</option>\n                        <option value=\"5\">5x</option>\n                        <option value=\"10\">10x</option>\n                        <option value=\"20\">20x</option>\n                        <option value=\"50\">50x</option>\n                        <option value=\"100\">100x</option>\n                    </select>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"positionType\">Position Type</label>\n                    <div className=\"position-type-selector\">\n                        <button \n                            type=\"button\" \n                            className={`position-btn ${positionType === 'long' ? 'long active' : ''}`}\n                            onClick={() => setPositionType('long')}\n                        >\n                            Long\n                        </button>\n                        <button \n                            type=\"button\" \n                            className={`position-btn ${positionType === 'short' ? 'short active' : ''}`}\n                            onClick={() => setPositionType('short')}\n                        >\n                            Short\n                        </button>\n                    </div>\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"sltp\">Stop Loss/Take Profit (optional)</label>\n                    <input\n                        type=\"number\"\n                        id=\"sltp\"\n                        value={sltp}\n                        onChange={(e) => setSltp(e.target.value)}\n                        min=\"0\"\n                        className=\"form-control\"\n                    />\n                </div>\n\n                <div className=\"form-group checkbox-group\">\n                    <input\n                        type=\"checkbox\"\n                        id=\"reduceOnly\"\n                        checked={reduceOnly}\n                        onChange={(e) => setReduceOnly(e.target.checked)}\n                    />\n                    <label htmlFor=\"reduceOnly\">Reduce Only</label>\n                </div>\n\n                {error && <div className=\"error-message\">{error}</div>}\n                {success && <div className=\"success-message\">{success}</div>}\n\n                <button \n                    type=\"submit\" \n                    disabled={loading || !positionSize || !hasDeposit} \n                    className=\"action-button open-button\"\n                >\n                    {loading ? 'Processing...' : 'Open Position'}\n                </button>\n            </form>\n\n            <div className=\"close-position-container\">\n                <h2>Close Position</h2>\n                <button\n                    onClick={handleClosePosition}\n                    disabled={loading}\n                    className=\"action-button close-button\"\n                >\n                    {loading ? 'Processing...' : 'Close Position'}\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default TradingForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
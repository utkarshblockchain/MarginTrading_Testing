{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\UTKARSH\\\\MarginTrading_Testing\\\\frontend\\\\src\\\\context\\\\Web3Context.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useEffect, useContext } from 'react';\nimport Web3 from 'web3';\nimport MarginTrading from '../contracts/MarginTrading.json';\nimport MockToken from '../contracts/MockToken.json';\nimport MockPriceFeed from '../contracts/MockPriceFeed.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Web3Context = /*#__PURE__*/createContext();\nexport const useWeb3 = () => {\n  _s();\n  const context = useContext(Web3Context);\n  if (!context) {\n    throw new Error('useWeb3 must be used within a Web3Provider');\n  }\n  return context;\n};\n_s(useWeb3, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const Web3Provider = ({\n  children\n}) => {\n  _s2();\n  const [web3, setWeb3] = useState(null);\n  const [contracts, setContracts] = useState(null);\n  const [account, setAccount] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [networkId, setNetworkId] = useState(null);\n  const [ethPrice, setEthPrice] = useState(0);\n\n  // Hardcoded contract addresses for different networks\n  const contractAddresses = {\n    // Sepolia testnet (actual deployed addresses)\n    11155111: {\n      marginTrading: \"0xfd79e1b120f3ae000f2d79aceca92aaec0b34c14\",\n      mockToken: \"0x6bb00934fd4f6db39f475bf39283981a20ecce5b\",\n      liquidationEngine: \"0x290346048a11574a6beb6e0b3b0e353b0be1cd0d\"\n    },\n    // Local development\n    1337: {\n      marginTrading: \"0x5FbDB2315678afecb367f032d93F642f64180aa3\",\n      mockToken: \"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512\",\n      liquidationEngine: \"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0\"\n    },\n    31337: {\n      marginTrading: \"0x5FbDB2315678afecb367f032d93F642f64180aa3\",\n      mockToken: \"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512\",\n      liquidationEngine: \"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0\"\n    }\n  };\n\n  // Function to initialize contracts\n  const initializeContracts = async (web3Instance, networkId) => {\n    try {\n      // Check network ID\n      if (!networkId) {\n        networkId = await web3Instance.eth.net.getId();\n        setNetworkId(networkId);\n      }\n      console.log(\"Current network ID:\", networkId);\n\n      // Get contract addresses for the current network\n      let marginTradingAddress, mockTokenAddress, liquidationEngineAddress;\n\n      // First try to get from networks in JSON\n      if (MarginTrading.networks && MarginTrading.networks[networkId]) {\n        var _MockToken$networks$n, _MockPriceFeed$networ;\n        marginTradingAddress = MarginTrading.networks[networkId].address;\n        mockTokenAddress = (_MockToken$networks$n = MockToken.networks[networkId]) === null || _MockToken$networks$n === void 0 ? void 0 : _MockToken$networks$n.address;\n        liquidationEngineAddress = (_MockPriceFeed$networ = MockPriceFeed.networks[networkId]) === null || _MockPriceFeed$networ === void 0 ? void 0 : _MockPriceFeed$networ.address;\n      }\n\n      // If not found, try hardcoded addresses\n      if (!marginTradingAddress && contractAddresses[networkId]) {\n        marginTradingAddress = contractAddresses[networkId].marginTrading;\n        mockTokenAddress = contractAddresses[networkId].mockToken;\n        liquidationEngineAddress = contractAddresses[networkId].liquidationEngine;\n      }\n      console.log(\"Using contract addresses:\", {\n        marginTrading: marginTradingAddress,\n        mockToken: mockTokenAddress,\n        liquidationEngine: liquidationEngineAddress\n      });\n      if (!marginTradingAddress || !mockTokenAddress) {\n        throw new Error(`Smart contracts not deployed on network ID ${networkId}`);\n      }\n      const marginTradingContract = new web3Instance.eth.Contract(MarginTrading.abi, marginTradingAddress);\n      const mockTokenContract = new web3Instance.eth.Contract(MockToken.abi, mockTokenAddress);\n\n      // Set global web3 instance for convenience\n      window.web3 = web3Instance;\n\n      // Set a default ETH price since we might not have a price feed contract\n      setEthPrice(\"1500.00\");\n      return {\n        marginTrading: marginTradingContract,\n        mockToken: mockTokenContract\n      };\n    } catch (error) {\n      console.error(\"Contract initialization error:\", error);\n      setError(`Contract initialization failed: ${error.message}`);\n      return null;\n    }\n  };\n\n  // Function to connect wallet (to be called by button)\n  const connectWallet = async () => {\n    try {\n      setError(null);\n      if (!window.ethereum) {\n        throw new Error(\"MetaMask is not installed. Please install MetaMask to use this application.\");\n      }\n\n      // Request account access\n      const accounts = await window.ethereum.request({\n        method: 'eth_requestAccounts'\n      });\n      if (accounts.length === 0) {\n        throw new Error(\"No accounts found. Please unlock MetaMask and try again.\");\n      }\n      setAccount(accounts[0]);\n\n      // Initialize Web3 if not already initialized\n      if (!web3) {\n        const web3Instance = new Web3(window.ethereum);\n        setWeb3(web3Instance);\n        window.web3 = web3Instance; // Set global web3 instance\n\n        // Initialize contracts\n        const networkId = await web3Instance.eth.net.getId();\n        setNetworkId(networkId);\n        const contractInstances = await initializeContracts(web3Instance, networkId);\n        setContracts(contractInstances);\n      }\n      return true;\n    } catch (error) {\n      console.error(\"Wallet connection error:\", error);\n      setError(error.message);\n      return false;\n    }\n  };\n  useEffect(() => {\n    const init = async () => {\n      try {\n        // Check if MetaMask is installed\n        if (window.ethereum) {\n          const web3Instance = new Web3(window.ethereum);\n          setWeb3(web3Instance);\n          window.web3 = web3Instance; // Set global web3 instance\n\n          // Check if already connected\n          const accounts = await web3Instance.eth.getAccounts();\n          if (accounts.length > 0) {\n            setAccount(accounts[0]);\n\n            // Initialize contracts\n            const networkId = await web3Instance.eth.net.getId();\n            setNetworkId(networkId);\n            const contractInstances = await initializeContracts(web3Instance, networkId);\n            setContracts(contractInstances);\n          }\n\n          // Listen for account changes\n          window.ethereum.on('accountsChanged', newAccounts => {\n            if (newAccounts.length === 0) {\n              // User disconnected their wallet\n              setAccount(null);\n            } else {\n              setAccount(newAccounts[0]);\n            }\n          });\n\n          // Listen for network changes\n          window.ethereum.on('chainChanged', () => {\n            window.location.reload();\n          });\n        }\n      } catch (error) {\n        console.error(\"Initialization error:\", error);\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    init();\n  }, []);\n\n  // Function to refresh position data\n  const refreshData = async () => {\n    // Update ETH price (using a mock price for now)\n    setEthPrice(prevPrice => {\n      // Simulate small price movements for demo purposes\n      const change = (Math.random() - 0.5) * 10;\n      const newPrice = parseFloat(prevPrice) + change;\n      return newPrice.toFixed(2);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Web3Context.Provider, {\n    value: {\n      web3,\n      contracts,\n      account,\n      loading,\n      error,\n      networkId,\n      ethPrice,\n      connectWallet,\n      refreshData\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 210,\n    columnNumber: 9\n  }, this);\n};\n_s2(Web3Provider, \"Rz4RLfaWqSUXsNY5fbWiIWA1yCs=\");\n_c = Web3Provider;\nvar _c;\n$RefreshReg$(_c, \"Web3Provider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","useContext","Web3","MarginTrading","MockToken","MockPriceFeed","jsxDEV","_jsxDEV","Web3Context","useWeb3","_s","context","Error","Web3Provider","children","_s2","web3","setWeb3","contracts","setContracts","account","setAccount","loading","setLoading","error","setError","networkId","setNetworkId","ethPrice","setEthPrice","contractAddresses","marginTrading","mockToken","liquidationEngine","initializeContracts","web3Instance","eth","net","getId","console","log","marginTradingAddress","mockTokenAddress","liquidationEngineAddress","networks","_MockToken$networks$n","_MockPriceFeed$networ","address","marginTradingContract","Contract","abi","mockTokenContract","window","message","connectWallet","ethereum","accounts","request","method","length","contractInstances","init","getAccounts","on","newAccounts","location","reload","refreshData","prevPrice","change","Math","random","newPrice","parseFloat","toFixed","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/UTKARSH/MarginTrading_Testing/frontend/src/context/Web3Context.js"],"sourcesContent":["import React, { createContext, useState, useEffect, useContext } from 'react';\nimport Web3 from 'web3';\nimport MarginTrading from '../contracts/MarginTrading.json';\nimport MockToken from '../contracts/MockToken.json';\nimport MockPriceFeed from '../contracts/MockPriceFeed.json';\n\nexport const Web3Context = createContext();\n\nexport const useWeb3 = () => {\n    const context = useContext(Web3Context);\n    if (!context) {\n        throw new Error('useWeb3 must be used within a Web3Provider');\n    }\n    return context;\n};\n\nexport const Web3Provider = ({ children }) => {\n    const [web3, setWeb3] = useState(null);\n    const [contracts, setContracts] = useState(null);\n    const [account, setAccount] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [networkId, setNetworkId] = useState(null);\n    const [ethPrice, setEthPrice] = useState(0);\n\n    // Hardcoded contract addresses for different networks\n    const contractAddresses = {\n        // Sepolia testnet (actual deployed addresses)\n        11155111: {\n            marginTrading: \"0xfd79e1b120f3ae000f2d79aceca92aaec0b34c14\",\n            mockToken: \"0x6bb00934fd4f6db39f475bf39283981a20ecce5b\",\n            liquidationEngine: \"0x290346048a11574a6beb6e0b3b0e353b0be1cd0d\"\n        },\n        // Local development\n        1337: {\n            marginTrading: \"0x5FbDB2315678afecb367f032d93F642f64180aa3\",\n            mockToken: \"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512\",\n            liquidationEngine: \"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0\"\n        },\n        31337: {\n            marginTrading: \"0x5FbDB2315678afecb367f032d93F642f64180aa3\",\n            mockToken: \"0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512\",\n            liquidationEngine: \"0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0\"\n        }\n    };\n\n    // Function to initialize contracts\n    const initializeContracts = async (web3Instance, networkId) => {\n        try {\n            // Check network ID\n            if (!networkId) {\n                networkId = await web3Instance.eth.net.getId();\n                setNetworkId(networkId);\n            }\n\n            console.log(\"Current network ID:\", networkId);\n\n            // Get contract addresses for the current network\n            let marginTradingAddress, mockTokenAddress, liquidationEngineAddress;\n            \n            // First try to get from networks in JSON\n            if (MarginTrading.networks && MarginTrading.networks[networkId]) {\n                marginTradingAddress = MarginTrading.networks[networkId].address;\n                mockTokenAddress = MockToken.networks[networkId]?.address;\n                liquidationEngineAddress = MockPriceFeed.networks[networkId]?.address;\n            }\n            \n            // If not found, try hardcoded addresses\n            if (!marginTradingAddress && contractAddresses[networkId]) {\n                marginTradingAddress = contractAddresses[networkId].marginTrading;\n                mockTokenAddress = contractAddresses[networkId].mockToken;\n                liquidationEngineAddress = contractAddresses[networkId].liquidationEngine;\n            }\n\n            console.log(\"Using contract addresses:\", {\n                marginTrading: marginTradingAddress,\n                mockToken: mockTokenAddress,\n                liquidationEngine: liquidationEngineAddress\n            });\n\n            if (!marginTradingAddress || !mockTokenAddress) {\n                throw new Error(`Smart contracts not deployed on network ID ${networkId}`);\n            }\n\n            const marginTradingContract = new web3Instance.eth.Contract(\n                MarginTrading.abi,\n                marginTradingAddress\n            );\n\n            const mockTokenContract = new web3Instance.eth.Contract(\n                MockToken.abi,\n                mockTokenAddress\n            );\n\n            // Set global web3 instance for convenience\n            window.web3 = web3Instance;\n\n            // Set a default ETH price since we might not have a price feed contract\n            setEthPrice(\"1500.00\");\n\n            return {\n                marginTrading: marginTradingContract,\n                mockToken: mockTokenContract\n            };\n        } catch (error) {\n            console.error(\"Contract initialization error:\", error);\n            setError(`Contract initialization failed: ${error.message}`);\n            return null;\n        }\n    };\n\n    // Function to connect wallet (to be called by button)\n    const connectWallet = async () => {\n        try {\n            setError(null);\n\n            if (!window.ethereum) {\n                throw new Error(\"MetaMask is not installed. Please install MetaMask to use this application.\");\n            }\n\n            // Request account access\n            const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n\n            if (accounts.length === 0) {\n                throw new Error(\"No accounts found. Please unlock MetaMask and try again.\");\n            }\n\n            setAccount(accounts[0]);\n\n            // Initialize Web3 if not already initialized\n            if (!web3) {\n                const web3Instance = new Web3(window.ethereum);\n                setWeb3(web3Instance);\n                window.web3 = web3Instance; // Set global web3 instance\n\n                // Initialize contracts\n                const networkId = await web3Instance.eth.net.getId();\n                setNetworkId(networkId);\n                const contractInstances = await initializeContracts(web3Instance, networkId);\n                setContracts(contractInstances);\n            }\n\n            return true;\n        } catch (error) {\n            console.error(\"Wallet connection error:\", error);\n            setError(error.message);\n            return false;\n        }\n    };\n\n    useEffect(() => {\n        const init = async () => {\n            try {\n                // Check if MetaMask is installed\n                if (window.ethereum) {\n                    const web3Instance = new Web3(window.ethereum);\n                    setWeb3(web3Instance);\n                    window.web3 = web3Instance; // Set global web3 instance\n\n                    // Check if already connected\n                    const accounts = await web3Instance.eth.getAccounts();\n                    if (accounts.length > 0) {\n                        setAccount(accounts[0]);\n\n                        // Initialize contracts\n                        const networkId = await web3Instance.eth.net.getId();\n                        setNetworkId(networkId);\n                        const contractInstances = await initializeContracts(web3Instance, networkId);\n                        setContracts(contractInstances);\n                    }\n\n                    // Listen for account changes\n                    window.ethereum.on('accountsChanged', (newAccounts) => {\n                        if (newAccounts.length === 0) {\n                            // User disconnected their wallet\n                            setAccount(null);\n                        } else {\n                            setAccount(newAccounts[0]);\n                        }\n                    });\n\n                    // Listen for network changes\n                    window.ethereum.on('chainChanged', () => {\n                        window.location.reload();\n                    });\n                }\n            } catch (error) {\n                console.error(\"Initialization error:\", error);\n                setError(error.message);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        init();\n    }, []);\n\n    // Function to refresh position data\n    const refreshData = async () => {\n        // Update ETH price (using a mock price for now)\n        setEthPrice((prevPrice) => {\n            // Simulate small price movements for demo purposes\n            const change = (Math.random() - 0.5) * 10;\n            const newPrice = parseFloat(prevPrice) + change;\n            return newPrice.toFixed(2);\n        });\n    };\n\n    return (\n        <Web3Context.Provider value={{\n            web3,\n            contracts,\n            account,\n            loading,\n            error,\n            networkId,\n            ethPrice,\n            connectWallet,\n            refreshData\n        }}>\n            {children}\n        </Web3Context.Provider>\n    );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\UTKARSH\\\\MarginTrading_Testing\\\\new-frontend\\\\src\\\\context\\\\Web3Context.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// For ETH\nawait contracts.marginTradeManager.methods.depositMargin().send({\n  from: account,\n  value: web3.utils.toWei(\"0.1\", \"ether\") // Example: 0.1 ETH\n});\n\n// OR for ERC20 tokens\nawait contracts.marginTradeManager.methods.depositMarginERC20(tokenAddress, web3.utils.toWei(\"100\", \"ether\") // Example: 100 tokens\n).send({\n  from: account\n});\nawait contracts.marginTradeManager.methods.openPosition(sizeWei, leverageValue, sltpValue, reduceOnly, positionTypeValue).send({\n  from: account\n});\nimport React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\nimport Web3 from 'web3';\n\n// Import ABIs\nimport MarginTradeManagerABI from '../abis/MarginTradeManager.json';\nimport MockTokenABI from '../abis/MockToken.json';\n\n// Create the context\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Web3Context = /*#__PURE__*/createContext();\n\n// Contract addresses for Sepolia testnet\nconst CONTRACT_ADDRESSES = {\n  marginTradeManager: \"0x69189D25Cf04ba71C5feec4C8Cc6f2a9B8986834\",\n  mockToken: \"0x6399a31B08986628EAdfD6e616E58db75f6686f2\"\n};\n\n// Custom hook to use the Web3 context\nexport const useWeb3 = () => {\n  _s();\n  return useContext(Web3Context);\n};\n\n// Provider component\n_s(useWeb3, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const Web3Provider = ({\n  children\n}) => {\n  _s2();\n  const [web3, setWeb3] = useState(null);\n  const [account, setAccount] = useState(null);\n  const [networkId, setNetworkId] = useState(null);\n  const [contracts, setContracts] = useState({\n    marginTradeManager: null,\n    mockToken: null\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isInitialized, setIsInitialized] = useState(false);\n\n  // Position and margin state\n  const [positions, setPositions] = useState([]);\n  const [ethMargin, setEthMargin] = useState('0');\n  const [tokenMargin, setTokenMargin] = useState('0');\n  const [positionCount, setPositionCount] = useState(0);\n\n  // Initialize contracts\n  const initializeContracts = useCallback(async web3Instance => {\n    console.log(\"Initializing contracts...\");\n    try {\n      if (!web3Instance) {\n        console.error(\"Web3 instance is null\");\n        setError(\"Web3 instance is not available. Please refresh the page.\");\n        return false;\n      }\n      try {\n        // Create contract instances\n        const marginTradeManagerContract = new web3Instance.eth.Contract(MarginTradeManagerABI.abi, CONTRACT_ADDRESSES.marginTradeManager);\n        const mockTokenContract = new web3Instance.eth.Contract(MockTokenABI.abi, CONTRACT_ADDRESSES.mockToken);\n\n        // Set the contracts in state\n        setContracts({\n          marginTradeManager: marginTradeManagerContract,\n          mockToken: mockTokenContract\n        });\n        console.log(\"Contracts initialized successfully:\", {\n          marginTradeManager: marginTradeManagerContract.options.address,\n          mockToken: mockTokenContract.options.address\n        });\n        setIsInitialized(true);\n        setLoading(false);\n        return true;\n      } catch (contractError) {\n        console.error(\"Error creating contract instances:\", contractError);\n        setError(\"Failed to create contract instances. Please check your network connection.\");\n        setLoading(false);\n        return false;\n      }\n    } catch (error) {\n      console.error(\"Error initializing contracts:\", error);\n      setError(\"Failed to initialize contracts. Please refresh the page and try again.\");\n      setLoading(false);\n      return false;\n    }\n  }, []);\n\n  // Connect wallet function for button\n  const connectWallet = async () => {\n    if (window.ethereum) {\n      try {\n        setLoading(true);\n        const accounts = await window.ethereum.request({\n          method: 'eth_requestAccounts'\n        });\n        setAccount(accounts[0]);\n\n        // Create a new web3 instance\n        const web3Instance = new Web3(window.ethereum);\n        setWeb3(web3Instance);\n\n        // Get network ID\n        const networkId = await web3Instance.eth.net.getId();\n        setNetworkId(networkId);\n\n        // Initialize contracts\n        await initializeContracts(web3Instance);\n        setLoading(false);\n      } catch (error) {\n        console.error(\"Error connecting wallet:\", error);\n        setError(\"Failed to connect wallet. Please try again.\");\n        setLoading(false);\n      }\n    } else {\n      setError(\"No Ethereum browser extension detected. Please install MetaMask to use this application.\");\n      setLoading(false);\n    }\n  };\n\n  // Initialize web3\n  const init = useCallback(async () => {\n    try {\n      setLoading(true);\n\n      // Check if MetaMask is installed\n      if (window.ethereum) {\n        try {\n          // Create a new web3 instance\n          const web3Instance = new Web3(window.ethereum);\n\n          // Get accounts\n          const accounts = await web3Instance.eth.getAccounts();\n          if (accounts.length > 0) {\n            setAccount(accounts[0]);\n            console.log(\"Connected account:\", accounts[0]);\n          }\n\n          // Get network ID\n          const networkId = await web3Instance.eth.net.getId();\n          setNetworkId(networkId);\n          console.log(\"Connected to network ID:\", networkId);\n          setWeb3(web3Instance);\n\n          // Initialize contracts\n          const success = await initializeContracts(web3Instance);\n          if (success) {\n            setIsInitialized(true);\n          }\n        } catch (innerError) {\n          console.error(\"Error in Ethereum connection:\", innerError);\n          setError(\"Error connecting to Ethereum. Please refresh and try again.\");\n        }\n      } else {\n        console.error(\"No Ethereum browser extension detected\");\n        setError(\"No Ethereum browser extension detected. Please install MetaMask to use this application.\");\n      }\n    } catch (error) {\n      console.error(\"Error initializing web3:\", error);\n      setError(\"Failed to initialize web3. Please refresh the page and try again.\");\n    } finally {\n      setLoading(false);\n    }\n  }, [initializeContracts]);\n\n  // Fetch user position data\n  const fetchUserPositions = useCallback(async () => {\n    if (!web3 || !contracts.marginTradeManager || !account || !isInitialized) return;\n    try {\n      console.log(\"Fetching user position data...\");\n\n      // Get position count\n      const count = await contracts.marginTradeManager.methods.userPositionCount(account).call();\n      setPositionCount(parseInt(count));\n      console.log(\"User position count:\", count);\n\n      // Initialize arrays to calculate total margins\n      let totalEthMargin = web3.utils.toBN('0');\n      let totalTokenMargin = web3.utils.toBN('0');\n      const positionsData = [];\n\n      // Fetch each position\n      for (let i = 0; i < count; i++) {\n        const position = await contracts.marginTradeManager.methods.positions(account, i).call();\n        console.log(`Position ${i}:`, position);\n\n        // Add position to array\n        positionsData.push({\n          id: i,\n          ...position,\n          isEth: position.collateralToken === '0x0000000000000000000000000000000000000000'\n        });\n\n        // Calculate margins\n        const margin = web3.utils.toBN(position.margin);\n        if (position.collateralToken === '0x0000000000000000000000000000000000000000') {\n          totalEthMargin = totalEthMargin.add(margin);\n        } else if (position.collateralToken === contracts.mockToken.options.address) {\n          totalTokenMargin = totalTokenMargin.add(margin);\n        }\n      }\n\n      // Update state\n      setPositions(positionsData);\n      setEthMargin(web3.utils.fromWei(totalEthMargin, 'ether'));\n      setTokenMargin(web3.utils.fromWei(totalTokenMargin, 'ether'));\n      console.log(\"User margins calculated:\", {\n        ethMargin: web3.utils.fromWei(totalEthMargin, 'ether'),\n        tokenMargin: web3.utils.fromWei(totalTokenMargin, 'ether')\n      });\n    } catch (error) {\n      console.error(\"Error fetching user positions:\", error);\n    }\n  }, [web3, contracts, account, isInitialized]);\n\n  // Initialize on component mount\n  useEffect(() => {\n    init();\n\n    // Setup event listeners for MetaMask\n    if (window.ethereum) {\n      window.ethereum.on('accountsChanged', accounts => {\n        if (accounts.length > 0) {\n          setAccount(accounts[0]);\n          console.log(\"Account changed:\", accounts[0]);\n        } else {\n          setAccount(null);\n          console.log(\"Account disconnected\");\n        }\n      });\n      window.ethereum.on('chainChanged', () => {\n        console.log(\"Network changed, reloading page\");\n        window.location.reload();\n      });\n    }\n    return () => {\n      // Clean up event listeners\n      if (window.ethereum) {\n        window.ethereum.removeListener('accountsChanged', () => {});\n        window.ethereum.removeListener('chainChanged', () => {});\n      }\n    };\n  }, [init]);\n\n  // Fetch user position data when account or contracts change\n  useEffect(() => {\n    if (isInitialized && account) {\n      fetchUserPositions();\n\n      // Set up an interval to fetch user position data every 30 seconds\n      const intervalId = setInterval(fetchUserPositions, 30000);\n      return () => clearInterval(intervalId);\n    }\n  }, [isInitialized, account, fetchUserPositions]);\n  return /*#__PURE__*/_jsxDEV(Web3Context.Provider, {\n    value: {\n      web3,\n      account,\n      networkId,\n      contracts,\n      loading,\n      error,\n      connectWallet,\n      isInitialized,\n      positions,\n      ethMargin,\n      tokenMargin,\n      positionCount,\n      fetchUserPositions\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 278,\n    columnNumber: 9\n  }, this);\n};\n_s2(Web3Provider, \"YHsMg6A69WPRL2kBHELJpcR4wXg=\");\n_c = Web3Provider;\nvar _c;\n$RefreshReg$(_c, \"Web3Provider\");","map":{"version":3,"names":["contracts","marginTradeManager","methods","depositMargin","send","from","account","value","web3","utils","toWei","depositMarginERC20","tokenAddress","openPosition","sizeWei","leverageValue","sltpValue","reduceOnly","positionTypeValue","React","createContext","useContext","useState","useEffect","useCallback","Web3","MarginTradeManagerABI","MockTokenABI","jsxDEV","_jsxDEV","Web3Context","CONTRACT_ADDRESSES","mockToken","useWeb3","_s","Web3Provider","children","_s2","setWeb3","setAccount","networkId","setNetworkId","setContracts","loading","setLoading","error","setError","isInitialized","setIsInitialized","positions","setPositions","ethMargin","setEthMargin","tokenMargin","setTokenMargin","positionCount","setPositionCount","initializeContracts","web3Instance","console","log","marginTradeManagerContract","eth","Contract","abi","mockTokenContract","options","address","contractError","connectWallet","window","ethereum","accounts","request","method","net","getId","init","getAccounts","length","success","innerError","fetchUserPositions","count","userPositionCount","call","parseInt","totalEthMargin","toBN","totalTokenMargin","positionsData","i","position","push","id","isEth","collateralToken","margin","add","fromWei","on","location","reload","removeListener","intervalId","setInterval","clearInterval","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/UTKARSH/MarginTrading_Testing/new-frontend/src/context/Web3Context.js"],"sourcesContent":["// For ETH\nawait contracts.marginTradeManager.methods.depositMargin().send({ \n    from: account, \n    value: web3.utils.toWei(\"0.1\", \"ether\") // Example: 0.1 ETH\n});\n\n// OR for ERC20 tokens\nawait contracts.marginTradeManager.methods.depositMarginERC20(\n    tokenAddress, \n    web3.utils.toWei(\"100\", \"ether\") // Example: 100 tokens\n).send({ from: account });await contracts.marginTradeManager.methods.openPosition(\n    sizeWei,\n    leverageValue,\n    sltpValue,\n    reduceOnly,\n    positionTypeValue\n).send({ from: account });import React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\nimport Web3 from 'web3';\n\n// Import ABIs\nimport MarginTradeManagerABI from '../abis/MarginTradeManager.json';\nimport MockTokenABI from '../abis/MockToken.json';\n\n// Create the context\nconst Web3Context = createContext();\n\n// Contract addresses for Sepolia testnet\nconst CONTRACT_ADDRESSES = {\n    marginTradeManager: \"0x69189D25Cf04ba71C5feec4C8Cc6f2a9B8986834\",\n    mockToken: \"0x6399a31B08986628EAdfD6e616E58db75f6686f2\"\n};\n\n// Custom hook to use the Web3 context\nexport const useWeb3 = () => useContext(Web3Context);\n\n// Provider component\nexport const Web3Provider = ({ children }) => {\n    const [web3, setWeb3] = useState(null);\n    const [account, setAccount] = useState(null);\n    const [networkId, setNetworkId] = useState(null);\n    const [contracts, setContracts] = useState({\n        marginTradeManager: null,\n        mockToken: null\n    });\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [isInitialized, setIsInitialized] = useState(false);\n    \n    // Position and margin state\n    const [positions, setPositions] = useState([]);\n    const [ethMargin, setEthMargin] = useState('0');\n    const [tokenMargin, setTokenMargin] = useState('0');\n    const [positionCount, setPositionCount] = useState(0);\n\n    // Initialize contracts\n    const initializeContracts = useCallback(async (web3Instance) => {\n        console.log(\"Initializing contracts...\");\n        try {\n            if (!web3Instance) {\n                console.error(\"Web3 instance is null\");\n                setError(\"Web3 instance is not available. Please refresh the page.\");\n                return false;\n            }\n\n            try {\n                // Create contract instances\n                const marginTradeManagerContract = new web3Instance.eth.Contract(\n                    MarginTradeManagerABI.abi,\n                    CONTRACT_ADDRESSES.marginTradeManager\n                );\n\n                const mockTokenContract = new web3Instance.eth.Contract(\n                    MockTokenABI.abi,\n                    CONTRACT_ADDRESSES.mockToken\n                );\n\n                // Set the contracts in state\n                setContracts({\n                    marginTradeManager: marginTradeManagerContract,\n                    mockToken: mockTokenContract\n                });\n\n                console.log(\"Contracts initialized successfully:\", {\n                    marginTradeManager: marginTradeManagerContract.options.address,\n                    mockToken: mockTokenContract.options.address\n                });\n                \n                setIsInitialized(true);\n                setLoading(false);\n                return true;\n            } catch (contractError) {\n                console.error(\"Error creating contract instances:\", contractError);\n                setError(\"Failed to create contract instances. Please check your network connection.\");\n                setLoading(false);\n                return false;\n            }\n        } catch (error) {\n            console.error(\"Error initializing contracts:\", error);\n            setError(\"Failed to initialize contracts. Please refresh the page and try again.\");\n            setLoading(false);\n            return false;\n        }\n    }, []);\n\n    // Connect wallet function for button\n    const connectWallet = async () => {\n        if (window.ethereum) {\n            try {\n                setLoading(true);\n                const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n                setAccount(accounts[0]);\n                \n                // Create a new web3 instance\n                const web3Instance = new Web3(window.ethereum);\n                setWeb3(web3Instance);\n                \n                // Get network ID\n                const networkId = await web3Instance.eth.net.getId();\n                setNetworkId(networkId);\n                \n                // Initialize contracts\n                await initializeContracts(web3Instance);\n                \n                setLoading(false);\n            } catch (error) {\n                console.error(\"Error connecting wallet:\", error);\n                setError(\"Failed to connect wallet. Please try again.\");\n                setLoading(false);\n            }\n        } else {\n            setError(\"No Ethereum browser extension detected. Please install MetaMask to use this application.\");\n            setLoading(false);\n        }\n    };\n\n    // Initialize web3\n    const init = useCallback(async () => {\n        try {\n            setLoading(true);\n            \n            // Check if MetaMask is installed\n            if (window.ethereum) {\n                try {\n                    // Create a new web3 instance\n                    const web3Instance = new Web3(window.ethereum);\n                    \n                    // Get accounts\n                    const accounts = await web3Instance.eth.getAccounts();\n                    if (accounts.length > 0) {\n                        setAccount(accounts[0]);\n                        console.log(\"Connected account:\", accounts[0]);\n                    }\n                    \n                    // Get network ID\n                    const networkId = await web3Instance.eth.net.getId();\n                    setNetworkId(networkId);\n                    console.log(\"Connected to network ID:\", networkId);\n                    \n                    setWeb3(web3Instance);\n                    \n                    // Initialize contracts\n                    const success = await initializeContracts(web3Instance);\n                    if (success) {\n                        setIsInitialized(true);\n                    }\n                } catch (innerError) {\n                    console.error(\"Error in Ethereum connection:\", innerError);\n                    setError(\"Error connecting to Ethereum. Please refresh and try again.\");\n                }\n            } else {\n                console.error(\"No Ethereum browser extension detected\");\n                setError(\"No Ethereum browser extension detected. Please install MetaMask to use this application.\");\n            }\n        } catch (error) {\n            console.error(\"Error initializing web3:\", error);\n            setError(\"Failed to initialize web3. Please refresh the page and try again.\");\n        } finally {\n            setLoading(false);\n        }\n    }, [initializeContracts]);\n\n    // Fetch user position data\n    const fetchUserPositions = useCallback(async () => {\n        if (!web3 || !contracts.marginTradeManager || !account || !isInitialized) return;\n        \n        try {\n            console.log(\"Fetching user position data...\");\n            \n            // Get position count\n            const count = await contracts.marginTradeManager.methods.userPositionCount(account).call();\n            setPositionCount(parseInt(count));\n            console.log(\"User position count:\", count);\n            \n            // Initialize arrays to calculate total margins\n            let totalEthMargin = web3.utils.toBN('0');\n            let totalTokenMargin = web3.utils.toBN('0');\n            const positionsData = [];\n            \n            // Fetch each position\n            for (let i = 0; i < count; i++) {\n                const position = await contracts.marginTradeManager.methods.positions(account, i).call();\n                console.log(`Position ${i}:`, position);\n                \n                // Add position to array\n                positionsData.push({\n                    id: i,\n                    ...position,\n                    isEth: position.collateralToken === '0x0000000000000000000000000000000000000000'\n                });\n                \n                // Calculate margins\n                const margin = web3.utils.toBN(position.margin);\n                if (position.collateralToken === '0x0000000000000000000000000000000000000000') {\n                    totalEthMargin = totalEthMargin.add(margin);\n                } else if (position.collateralToken === contracts.mockToken.options.address) {\n                    totalTokenMargin = totalTokenMargin.add(margin);\n                }\n            }\n            \n            // Update state\n            setPositions(positionsData);\n            setEthMargin(web3.utils.fromWei(totalEthMargin, 'ether'));\n            setTokenMargin(web3.utils.fromWei(totalTokenMargin, 'ether'));\n            \n            console.log(\"User margins calculated:\", {\n                ethMargin: web3.utils.fromWei(totalEthMargin, 'ether'),\n                tokenMargin: web3.utils.fromWei(totalTokenMargin, 'ether')\n            });\n        } catch (error) {\n            console.error(\"Error fetching user positions:\", error);\n        }\n    }, [web3, contracts, account, isInitialized]);\n\n    // Initialize on component mount\n    useEffect(() => {\n        init();\n        \n        // Setup event listeners for MetaMask\n        if (window.ethereum) {\n            window.ethereum.on('accountsChanged', (accounts) => {\n                if (accounts.length > 0) {\n                    setAccount(accounts[0]);\n                    console.log(\"Account changed:\", accounts[0]);\n                } else {\n                    setAccount(null);\n                    console.log(\"Account disconnected\");\n                }\n            });\n\n            window.ethereum.on('chainChanged', () => {\n                console.log(\"Network changed, reloading page\");\n                window.location.reload();\n            });\n        }\n        \n        return () => {\n            // Clean up event listeners\n            if (window.ethereum) {\n                window.ethereum.removeListener('accountsChanged', () => {});\n                window.ethereum.removeListener('chainChanged', () => {});\n            }\n        };\n    }, [init]);\n\n    // Fetch user position data when account or contracts change\n    useEffect(() => {\n        if (isInitialized && account) {\n            fetchUserPositions();\n            \n            // Set up an interval to fetch user position data every 30 seconds\n            const intervalId = setInterval(fetchUserPositions, 30000);\n            \n            return () => clearInterval(intervalId);\n        }\n    }, [isInitialized, account, fetchUserPositions]);\n\n    return (\n        <Web3Context.Provider value={{ \n            web3, \n            account, \n            networkId, \n            contracts, \n            loading, \n            error,\n            connectWallet,\n            isInitialized,\n            positions,\n            ethMargin,\n            tokenMargin,\n            positionCount,\n            fetchUserPositions\n        }}>\n            {children}\n        </Web3Context.Provider>\n    );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
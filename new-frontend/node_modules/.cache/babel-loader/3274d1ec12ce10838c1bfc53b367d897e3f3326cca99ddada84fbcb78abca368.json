{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\UTKARSH\\\\MarginTrading_Testing\\\\new-frontend\\\\src\\\\components\\\\TradePositions.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useWeb3 } from '../context/Web3Context';\nimport '../styles/TradePositions.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TradePositions = () => {\n  _s();\n  const {\n    web3,\n    contracts,\n    account,\n    isInitialized,\n    positions,\n    fetchUserPositions\n  } = useWeb3();\n\n  // State for opening a new position\n  const [positionSize, setPositionSize] = useState('');\n  const [leverage, setLeverage] = useState('1');\n  const [sltp, setSltp] = useState('0');\n  const [reduceOnly, setReduceOnly] = useState(false);\n  const [positionType, setPositionType] = useState('0'); // 0 = LONG, 1 = SHORT\n\n  // State for UI\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const [activeTab, setActiveTab] = useState('open'); // 'open' or 'positions'\n\n  // Handle opening a new position\n  const handleOpenPosition = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      setSuccess(false);\n\n      // Check if web3 and contracts are initialized\n      if (!web3 || !contracts.marginTradeManager || !account) {\n        throw new Error(\"Web3 or contracts not initialized. Please connect your wallet.\");\n      }\n\n      // Convert values to proper format\n      const sizeWei = web3.utils.toWei(positionSize, 'ether');\n      const leverageValue = parseInt(leverage);\n      const sltpValue = web3.utils.toWei(sltp, 'ether');\n      const positionTypeValue = parseInt(positionType);\n      console.log(`Opening position: Size=${positionSize}, Leverage=${leverageValue}, SLTP=${sltp}, ReduceOnly=${reduceOnly}, Type=${positionTypeValue === 0 ? 'LONG' : 'SHORT'}`);\n\n      // Call the openPosition function\n      const transaction = await contracts.marginTradeManager.methods.openPosition(sizeWei, leverageValue, sltpValue, reduceOnly, positionTypeValue).send({\n        from: account\n      });\n      console.log(\"Position opened successfully:\", transaction);\n      setSuccessMessage(`Successfully opened a ${positionTypeValue === 0 ? 'LONG' : 'SHORT'} position with ${positionSize} size and ${leverageValue}x leverage`);\n      setSuccess(true);\n\n      // Refresh user position data\n      fetchUserPositions();\n\n      // Reset form\n      setPositionSize('');\n      setLeverage('1');\n      setSltp('0');\n      setReduceOnly(false);\n      setPositionType('0');\n\n      // Switch to positions tab\n      setActiveTab('positions');\n    } catch (error) {\n      console.error(\"Error opening position:\", error);\n      setError(error.message || \"Failed to open position. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle closing a position\n  const handleClosePosition = async positionId => {\n    try {\n      setLoading(true);\n      setError(null);\n      setSuccess(false);\n\n      // Check if web3 and contracts are initialized\n      if (!web3 || !contracts.marginTradeManager || !account) {\n        throw new Error(\"Web3 or contracts not initialized. Please connect your wallet.\");\n      }\n      console.log(`Closing position ID: ${positionId}`);\n\n      // Call the closePosition function\n      const transaction = await contracts.marginTradeManager.methods.closePosition(positionId).send({\n        from: account\n      });\n      console.log(\"Position closed successfully:\", transaction);\n      setSuccessMessage(`Successfully closed position #${positionId}`);\n      setSuccess(true);\n\n      // Refresh user position data\n      fetchUserPositions();\n    } catch (error) {\n      console.error(\"Error closing position:\", error);\n      setError(error.message || \"Failed to close position. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle withdrawing margin\n  const handleWithdrawMargin = async positionId => {\n    try {\n      setLoading(true);\n      setError(null);\n      setSuccess(false);\n\n      // Check if web3 and contracts are initialized\n      if (!web3 || !contracts.marginTradeManager || !account) {\n        throw new Error(\"Web3 or contracts not initialized. Please connect your wallet.\");\n      }\n\n      // Get position details\n      const position = positions.find(p => p.id === positionId);\n      if (!position) {\n        throw new Error(`Position #${positionId} not found`);\n      }\n\n      // Prompt for amount to withdraw\n      const amount = prompt(`Enter amount to withdraw from position #${positionId}. Available margin: ${web3.utils.fromWei(position.margin, 'ether')}`);\n      if (!amount) return;\n      const weiAmount = web3.utils.toWei(amount, 'ether');\n      console.log(`Withdrawing ${amount} from position #${positionId}`);\n\n      // Call the withdrawMargin function\n      const transaction = await contracts.marginTradeManager.methods.withdrawMargin(positionId, weiAmount).send({\n        from: account\n      });\n      console.log(\"Margin withdrawn successfully:\", transaction);\n      setSuccessMessage(`Successfully withdrew ${amount} from position #${positionId}`);\n      setSuccess(true);\n\n      // Refresh user position data\n      fetchUserPositions();\n    } catch (error) {\n      console.error(\"Error withdrawing margin:\", error);\n      setError(error.message || \"Failed to withdraw margin. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Format position type\n  const formatPositionType = type => {\n    return type === '0' ? 'LONG' : 'SHORT';\n  };\n\n  // Clear success message after 5 seconds\n  React.useEffect(() => {\n    if (success) {\n      const timer = setTimeout(() => {\n        setSuccess(false);\n      }, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [success]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"trade-positions card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'open' ? 'active' : ''}`,\n        onClick: () => setActiveTab('open'),\n        children: \"Open Position\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'positions' ? 'active' : ''}`,\n        onClick: () => setActiveTab('positions'),\n        children: \"My Positions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }, this), activeTab === 'open' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"open-position-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Open Trading Position\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Position Size\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: positionSize,\n          onChange: e => setPositionSize(e.target.value),\n          placeholder: \"Enter position size\",\n          step: \"0.01\",\n          min: \"0.01\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Leverage (1-100x)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: leverage,\n          onChange: e => setLeverage(e.target.value),\n          placeholder: \"Enter leverage\",\n          step: \"1\",\n          min: \"1\",\n          max: \"100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Stop Loss/Take Profit Level\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: sltp,\n          onChange: e => setSltp(e.target.value),\n          placeholder: \"Enter SLTP (0 if not used)\",\n          step: \"0.01\",\n          min: \"0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group checkbox\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: reduceOnly,\n            onChange: e => setReduceOnly(e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 29\n          }, this), \"Reduce Only\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Position Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: positionType,\n          onChange: e => setPositionType(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"0\",\n            children: \"LONG\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"1\",\n            children: \"SHORT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn primary\",\n        onClick: handleOpenPosition,\n        disabled: loading || !isInitialized || !positionSize || !leverage,\n        children: loading ? \"Processing...\" : \"Open Position\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"positions-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"My Trading Positions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 21\n      }, this), positions.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"no-positions\",\n        children: \"You don't have any positions yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"positions-table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"positions-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Size\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Entry Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Leverage\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Margin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: positions.map(position => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: position.open ? 'open' : 'closed',\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: position.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: position.positionType === '0' ? 'LONG' : 'SHORT'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: web3.utils.fromWei(position.positionSize, 'ether')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: web3.utils.fromWei(position.entryPrice, 'ether')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [position.leverage, \"x\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [web3.utils.fromWei(position.margin, 'ether'), \" \", position.isEth ? 'ETH' : 'Tokens']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: position.open ? 'Open' : 'Closed'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: position.open && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn small\",\n                    onClick: () => handleClosePosition(position.id),\n                    disabled: loading,\n                    children: \"Close\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn small secondary\",\n                    onClick: () => handleWithdrawMargin(position.id),\n                    disabled: loading,\n                    children: \"Withdraw\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 57\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 45\n              }, this)]\n            }, position.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 17\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 23\n    }, this), success && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"success-message\",\n      children: successMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 25\n    }, this), !isInitialized && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"warning-message\",\n      children: \"Please connect your wallet to manage positions.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 9\n  }, this);\n};\n_s(TradePositions, \"y1TXxYAyHxP+prMU7X4+sVXP8n4=\", false, function () {\n  return [useWeb3];\n});\n_c = TradePositions;\nexport default TradePositions;\nvar _c;\n$RefreshReg$(_c, \"TradePositions\");","map":{"version":3,"names":["React","useState","useWeb3","jsxDEV","_jsxDEV","Fragment","_Fragment","TradePositions","_s","web3","contracts","account","isInitialized","positions","fetchUserPositions","positionSize","setPositionSize","leverage","setLeverage","sltp","setSltp","reduceOnly","setReduceOnly","positionType","setPositionType","loading","setLoading","error","setError","success","setSuccess","successMessage","setSuccessMessage","activeTab","setActiveTab","handleOpenPosition","marginTradeManager","Error","sizeWei","utils","toWei","leverageValue","parseInt","sltpValue","positionTypeValue","console","log","transaction","methods","openPosition","send","from","message","handleClosePosition","positionId","closePosition","handleWithdrawMargin","position","find","p","id","amount","prompt","fromWei","margin","weiAmount","withdrawMargin","formatPositionType","type","useEffect","timer","setTimeout","clearTimeout","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","placeholder","step","min","max","checked","disabled","length","map","open","entryPrice","isEth","_c","$RefreshReg$"],"sources":["C:/Users/UTKARSH/MarginTrading_Testing/new-frontend/src/components/TradePositions.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useWeb3 } from '../context/Web3Context';\nimport '../styles/TradePositions.css';\n\nconst TradePositions = () => {\n    const { web3, contracts, account, isInitialized, positions, fetchUserPositions } = useWeb3();\n    \n    // State for opening a new position\n    const [positionSize, setPositionSize] = useState('');\n    const [leverage, setLeverage] = useState('1');\n    const [sltp, setSltp] = useState('0');\n    const [reduceOnly, setReduceOnly] = useState(false);\n    const [positionType, setPositionType] = useState('0'); // 0 = LONG, 1 = SHORT\n    \n    // State for UI\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [success, setSuccess] = useState(false);\n    const [successMessage, setSuccessMessage] = useState('');\n    const [activeTab, setActiveTab] = useState('open'); // 'open' or 'positions'\n\n    // Handle opening a new position\n    const handleOpenPosition = async () => {\n        try {\n            setLoading(true);\n            setError(null);\n            setSuccess(false);\n\n            // Check if web3 and contracts are initialized\n            if (!web3 || !contracts.marginTradeManager || !account) {\n                throw new Error(\"Web3 or contracts not initialized. Please connect your wallet.\");\n            }\n\n            // Convert values to proper format\n            const sizeWei = web3.utils.toWei(positionSize, 'ether');\n            const leverageValue = parseInt(leverage);\n            const sltpValue = web3.utils.toWei(sltp, 'ether');\n            const positionTypeValue = parseInt(positionType);\n\n            console.log(`Opening position: Size=${positionSize}, Leverage=${leverageValue}, SLTP=${sltp}, ReduceOnly=${reduceOnly}, Type=${positionTypeValue === 0 ? 'LONG' : 'SHORT'}`);\n\n            // Call the openPosition function\n            const transaction = await contracts.marginTradeManager.methods.openPosition(\n                sizeWei,\n                leverageValue,\n                sltpValue,\n                reduceOnly,\n                positionTypeValue\n            ).send({ from: account });\n\n            console.log(\"Position opened successfully:\", transaction);\n            setSuccessMessage(`Successfully opened a ${positionTypeValue === 0 ? 'LONG' : 'SHORT'} position with ${positionSize} size and ${leverageValue}x leverage`);\n            setSuccess(true);\n            \n            // Refresh user position data\n            fetchUserPositions();\n            \n            // Reset form\n            setPositionSize('');\n            setLeverage('1');\n            setSltp('0');\n            setReduceOnly(false);\n            setPositionType('0');\n            \n            // Switch to positions tab\n            setActiveTab('positions');\n        } catch (error) {\n            console.error(\"Error opening position:\", error);\n            setError(error.message || \"Failed to open position. Please try again.\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // Handle closing a position\n    const handleClosePosition = async (positionId) => {\n        try {\n            setLoading(true);\n            setError(null);\n            setSuccess(false);\n\n            // Check if web3 and contracts are initialized\n            if (!web3 || !contracts.marginTradeManager || !account) {\n                throw new Error(\"Web3 or contracts not initialized. Please connect your wallet.\");\n            }\n\n            console.log(`Closing position ID: ${positionId}`);\n\n            // Call the closePosition function\n            const transaction = await contracts.marginTradeManager.methods.closePosition(positionId)\n                .send({ from: account });\n\n            console.log(\"Position closed successfully:\", transaction);\n            setSuccessMessage(`Successfully closed position #${positionId}`);\n            setSuccess(true);\n            \n            // Refresh user position data\n            fetchUserPositions();\n        } catch (error) {\n            console.error(\"Error closing position:\", error);\n            setError(error.message || \"Failed to close position. Please try again.\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // Handle withdrawing margin\n    const handleWithdrawMargin = async (positionId) => {\n        try {\n            setLoading(true);\n            setError(null);\n            setSuccess(false);\n\n            // Check if web3 and contracts are initialized\n            if (!web3 || !contracts.marginTradeManager || !account) {\n                throw new Error(\"Web3 or contracts not initialized. Please connect your wallet.\");\n            }\n\n            // Get position details\n            const position = positions.find(p => p.id === positionId);\n            if (!position) {\n                throw new Error(`Position #${positionId} not found`);\n            }\n\n            // Prompt for amount to withdraw\n            const amount = prompt(`Enter amount to withdraw from position #${positionId}. Available margin: ${web3.utils.fromWei(position.margin, 'ether')}`);\n            if (!amount) return;\n\n            const weiAmount = web3.utils.toWei(amount, 'ether');\n            console.log(`Withdrawing ${amount} from position #${positionId}`);\n\n            // Call the withdrawMargin function\n            const transaction = await contracts.marginTradeManager.methods.withdrawMargin(\n                positionId,\n                weiAmount\n            ).send({ from: account });\n\n            console.log(\"Margin withdrawn successfully:\", transaction);\n            setSuccessMessage(`Successfully withdrew ${amount} from position #${positionId}`);\n            setSuccess(true);\n            \n            // Refresh user position data\n            fetchUserPositions();\n        } catch (error) {\n            console.error(\"Error withdrawing margin:\", error);\n            setError(error.message || \"Failed to withdraw margin. Please try again.\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // Format position type\n    const formatPositionType = (type) => {\n        return type === '0' ? 'LONG' : 'SHORT';\n    };\n\n    // Clear success message after 5 seconds\n    React.useEffect(() => {\n        if (success) {\n            const timer = setTimeout(() => {\n                setSuccess(false);\n            }, 5000);\n            return () => clearTimeout(timer);\n        }\n    }, [success]);\n\n    return (\n        <div className=\"trade-positions card\">\n            <div className=\"tabs\">\n                <button \n                    className={`tab-button ${activeTab === 'open' ? 'active' : ''}`}\n                    onClick={() => setActiveTab('open')}\n                >\n                    Open Position\n                </button>\n                <button \n                    className={`tab-button ${activeTab === 'positions' ? 'active' : ''}`}\n                    onClick={() => setActiveTab('positions')}\n                >\n                    My Positions\n                </button>\n            </div>\n            \n            {activeTab === 'open' ? (\n                <div className=\"open-position-form\">\n                    <h2>Open Trading Position</h2>\n                    \n                    <div className=\"input-group\">\n                        <label>Position Size</label>\n                        <input\n                            type=\"number\"\n                            value={positionSize}\n                            onChange={(e) => setPositionSize(e.target.value)}\n                            placeholder=\"Enter position size\"\n                            step=\"0.01\"\n                            min=\"0.01\"\n                        />\n                    </div>\n                    \n                    <div className=\"input-group\">\n                        <label>Leverage (1-100x)</label>\n                        <input\n                            type=\"number\"\n                            value={leverage}\n                            onChange={(e) => setLeverage(e.target.value)}\n                            placeholder=\"Enter leverage\"\n                            step=\"1\"\n                            min=\"1\"\n                            max=\"100\"\n                        />\n                    </div>\n                    \n                    <div className=\"input-group\">\n                        <label>Stop Loss/Take Profit Level</label>\n                        <input\n                            type=\"number\"\n                            value={sltp}\n                            onChange={(e) => setSltp(e.target.value)}\n                            placeholder=\"Enter SLTP (0 if not used)\"\n                            step=\"0.01\"\n                            min=\"0\"\n                        />\n                    </div>\n                    \n                    <div className=\"input-group checkbox\">\n                        <label>\n                            <input\n                                type=\"checkbox\"\n                                checked={reduceOnly}\n                                onChange={(e) => setReduceOnly(e.target.checked)}\n                            />\n                            Reduce Only\n                        </label>\n                    </div>\n                    \n                    <div className=\"input-group\">\n                        <label>Position Type</label>\n                        <select\n                            value={positionType}\n                            onChange={(e) => setPositionType(e.target.value)}\n                        >\n                            <option value=\"0\">LONG</option>\n                            <option value=\"1\">SHORT</option>\n                        </select>\n                    </div>\n                    \n                    <button\n                        className=\"btn primary\"\n                        onClick={handleOpenPosition}\n                        disabled={loading || !isInitialized || !positionSize || !leverage}\n                    >\n                        {loading ? \"Processing...\" : \"Open Position\"}\n                    </button>\n                </div>\n            ) : (\n                <div className=\"positions-list\">\n                    <h2>My Trading Positions</h2>\n                    \n                    {positions.length === 0 ? (\n                        <p className=\"no-positions\">You don't have any positions yet.</p>\n                    ) : (\n                        <div className=\"positions-table-container\">\n                            <table className=\"positions-table\">\n                                <thead>\n                                    <tr>\n                                        <th>ID</th>\n                                        <th>Type</th>\n                                        <th>Size</th>\n                                        <th>Entry Price</th>\n                                        <th>Leverage</th>\n                                        <th>Margin</th>\n                                        <th>Status</th>\n                                        <th>Actions</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {positions.map((position) => (\n                                        <tr key={position.id} className={position.open ? 'open' : 'closed'}>\n                                            <td>{position.id}</td>\n                                            <td>{position.positionType === '0' ? 'LONG' : 'SHORT'}</td>\n                                            <td>{web3.utils.fromWei(position.positionSize, 'ether')}</td>\n                                            <td>{web3.utils.fromWei(position.entryPrice, 'ether')}</td>\n                                            <td>{position.leverage}x</td>\n                                            <td>{web3.utils.fromWei(position.margin, 'ether')} {position.isEth ? 'ETH' : 'Tokens'}</td>\n                                            <td>{position.open ? 'Open' : 'Closed'}</td>\n                                            <td>\n                                                {position.open && (\n                                                    <>\n                                                        <button\n                                                            className=\"btn small\"\n                                                            onClick={() => handleClosePosition(position.id)}\n                                                            disabled={loading}\n                                                        >\n                                                            Close\n                                                        </button>\n                                                        <button\n                                                            className=\"btn small secondary\"\n                                                            onClick={() => handleWithdrawMargin(position.id)}\n                                                            disabled={loading}\n                                                        >\n                                                            Withdraw\n                                                        </button>\n                                                    </>\n                                                )}\n                                            </td>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </table>\n                        </div>\n                    )}\n                </div>\n            )}\n            \n            {error && <p className=\"error-message\">{error}</p>}\n            {success && <p className=\"success-message\">{successMessage}</p>}\n            \n            {!isInitialized && (\n                <p className=\"warning-message\">Please connect your wallet to manage positions.</p>\n            )}\n        </div>\n    );\n};\n\nexport default TradePositions;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,OAAO,QAAQ,wBAAwB;AAChD,OAAO,8BAA8B;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEtC,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAM;IAAEC,IAAI;IAAEC,SAAS;IAAEC,OAAO;IAAEC,aAAa;IAAEC,SAAS;IAAEC;EAAmB,CAAC,GAAGZ,OAAO,CAAC,CAAC;;EAE5F;EACA,MAAM,CAACa,YAAY,EAAEC,eAAe,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACgB,QAAQ,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC,GAAG,CAAC;EAC7C,MAAM,CAACkB,IAAI,EAAEC,OAAO,CAAC,GAAGnB,QAAQ,CAAC,GAAG,CAAC;EACrC,MAAM,CAACoB,UAAU,EAAEC,aAAa,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACsB,YAAY,EAAEC,eAAe,CAAC,GAAGvB,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;;EAEvD;EACA,MAAM,CAACwB,OAAO,EAAEC,UAAU,CAAC,GAAGzB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAAC0B,KAAK,EAAEC,QAAQ,CAAC,GAAG3B,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAAC4B,OAAO,EAAEC,UAAU,CAAC,GAAG7B,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAAC8B,cAAc,EAAEC,iBAAiB,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACgC,SAAS,EAAEC,YAAY,CAAC,GAAGjC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;;EAEpD;EACA,MAAMkC,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACnC,IAAI;MACAT,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;MACdE,UAAU,CAAC,KAAK,CAAC;;MAEjB;MACA,IAAI,CAACrB,IAAI,IAAI,CAACC,SAAS,CAAC0B,kBAAkB,IAAI,CAACzB,OAAO,EAAE;QACpD,MAAM,IAAI0B,KAAK,CAAC,gEAAgE,CAAC;MACrF;;MAEA;MACA,MAAMC,OAAO,GAAG7B,IAAI,CAAC8B,KAAK,CAACC,KAAK,CAACzB,YAAY,EAAE,OAAO,CAAC;MACvD,MAAM0B,aAAa,GAAGC,QAAQ,CAACzB,QAAQ,CAAC;MACxC,MAAM0B,SAAS,GAAGlC,IAAI,CAAC8B,KAAK,CAACC,KAAK,CAACrB,IAAI,EAAE,OAAO,CAAC;MACjD,MAAMyB,iBAAiB,GAAGF,QAAQ,CAACnB,YAAY,CAAC;MAEhDsB,OAAO,CAACC,GAAG,CAAC,0BAA0B/B,YAAY,cAAc0B,aAAa,UAAUtB,IAAI,gBAAgBE,UAAU,UAAUuB,iBAAiB,KAAK,CAAC,GAAG,MAAM,GAAG,OAAO,EAAE,CAAC;;MAE5K;MACA,MAAMG,WAAW,GAAG,MAAMrC,SAAS,CAAC0B,kBAAkB,CAACY,OAAO,CAACC,YAAY,CACvEX,OAAO,EACPG,aAAa,EACbE,SAAS,EACTtB,UAAU,EACVuB,iBACJ,CAAC,CAACM,IAAI,CAAC;QAAEC,IAAI,EAAExC;MAAQ,CAAC,CAAC;MAEzBkC,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEC,WAAW,CAAC;MACzDf,iBAAiB,CAAC,yBAAyBY,iBAAiB,KAAK,CAAC,GAAG,MAAM,GAAG,OAAO,kBAAkB7B,YAAY,aAAa0B,aAAa,YAAY,CAAC;MAC1JX,UAAU,CAAC,IAAI,CAAC;;MAEhB;MACAhB,kBAAkB,CAAC,CAAC;;MAEpB;MACAE,eAAe,CAAC,EAAE,CAAC;MACnBE,WAAW,CAAC,GAAG,CAAC;MAChBE,OAAO,CAAC,GAAG,CAAC;MACZE,aAAa,CAAC,KAAK,CAAC;MACpBE,eAAe,CAAC,GAAG,CAAC;;MAEpB;MACAU,YAAY,CAAC,WAAW,CAAC;IAC7B,CAAC,CAAC,OAAOP,KAAK,EAAE;MACZkB,OAAO,CAAClB,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/CC,QAAQ,CAACD,KAAK,CAACyB,OAAO,IAAI,4CAA4C,CAAC;IAC3E,CAAC,SAAS;MACN1B,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC;;EAED;EACA,MAAM2B,mBAAmB,GAAG,MAAOC,UAAU,IAAK;IAC9C,IAAI;MACA5B,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;MACdE,UAAU,CAAC,KAAK,CAAC;;MAEjB;MACA,IAAI,CAACrB,IAAI,IAAI,CAACC,SAAS,CAAC0B,kBAAkB,IAAI,CAACzB,OAAO,EAAE;QACpD,MAAM,IAAI0B,KAAK,CAAC,gEAAgE,CAAC;MACrF;MAEAQ,OAAO,CAACC,GAAG,CAAC,wBAAwBQ,UAAU,EAAE,CAAC;;MAEjD;MACA,MAAMP,WAAW,GAAG,MAAMrC,SAAS,CAAC0B,kBAAkB,CAACY,OAAO,CAACO,aAAa,CAACD,UAAU,CAAC,CACnFJ,IAAI,CAAC;QAAEC,IAAI,EAAExC;MAAQ,CAAC,CAAC;MAE5BkC,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEC,WAAW,CAAC;MACzDf,iBAAiB,CAAC,iCAAiCsB,UAAU,EAAE,CAAC;MAChExB,UAAU,CAAC,IAAI,CAAC;;MAEhB;MACAhB,kBAAkB,CAAC,CAAC;IACxB,CAAC,CAAC,OAAOa,KAAK,EAAE;MACZkB,OAAO,CAAClB,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/CC,QAAQ,CAACD,KAAK,CAACyB,OAAO,IAAI,6CAA6C,CAAC;IAC5E,CAAC,SAAS;MACN1B,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC;;EAED;EACA,MAAM8B,oBAAoB,GAAG,MAAOF,UAAU,IAAK;IAC/C,IAAI;MACA5B,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;MACdE,UAAU,CAAC,KAAK,CAAC;;MAEjB;MACA,IAAI,CAACrB,IAAI,IAAI,CAACC,SAAS,CAAC0B,kBAAkB,IAAI,CAACzB,OAAO,EAAE;QACpD,MAAM,IAAI0B,KAAK,CAAC,gEAAgE,CAAC;MACrF;;MAEA;MACA,MAAMoB,QAAQ,GAAG5C,SAAS,CAAC6C,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKN,UAAU,CAAC;MACzD,IAAI,CAACG,QAAQ,EAAE;QACX,MAAM,IAAIpB,KAAK,CAAC,aAAaiB,UAAU,YAAY,CAAC;MACxD;;MAEA;MACA,MAAMO,MAAM,GAAGC,MAAM,CAAC,2CAA2CR,UAAU,uBAAuB7C,IAAI,CAAC8B,KAAK,CAACwB,OAAO,CAACN,QAAQ,CAACO,MAAM,EAAE,OAAO,CAAC,EAAE,CAAC;MACjJ,IAAI,CAACH,MAAM,EAAE;MAEb,MAAMI,SAAS,GAAGxD,IAAI,CAAC8B,KAAK,CAACC,KAAK,CAACqB,MAAM,EAAE,OAAO,CAAC;MACnDhB,OAAO,CAACC,GAAG,CAAC,eAAee,MAAM,mBAAmBP,UAAU,EAAE,CAAC;;MAEjE;MACA,MAAMP,WAAW,GAAG,MAAMrC,SAAS,CAAC0B,kBAAkB,CAACY,OAAO,CAACkB,cAAc,CACzEZ,UAAU,EACVW,SACJ,CAAC,CAACf,IAAI,CAAC;QAAEC,IAAI,EAAExC;MAAQ,CAAC,CAAC;MAEzBkC,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEC,WAAW,CAAC;MAC1Df,iBAAiB,CAAC,yBAAyB6B,MAAM,mBAAmBP,UAAU,EAAE,CAAC;MACjFxB,UAAU,CAAC,IAAI,CAAC;;MAEhB;MACAhB,kBAAkB,CAAC,CAAC;IACxB,CAAC,CAAC,OAAOa,KAAK,EAAE;MACZkB,OAAO,CAAClB,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjDC,QAAQ,CAACD,KAAK,CAACyB,OAAO,IAAI,8CAA8C,CAAC;IAC7E,CAAC,SAAS;MACN1B,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC;;EAED;EACA,MAAMyC,kBAAkB,GAAIC,IAAI,IAAK;IACjC,OAAOA,IAAI,KAAK,GAAG,GAAG,MAAM,GAAG,OAAO;EAC1C,CAAC;;EAED;EACApE,KAAK,CAACqE,SAAS,CAAC,MAAM;IAClB,IAAIxC,OAAO,EAAE;MACT,MAAMyC,KAAK,GAAGC,UAAU,CAAC,MAAM;QAC3BzC,UAAU,CAAC,KAAK,CAAC;MACrB,CAAC,EAAE,IAAI,CAAC;MACR,OAAO,MAAM0C,YAAY,CAACF,KAAK,CAAC;IACpC;EACJ,CAAC,EAAE,CAACzC,OAAO,CAAC,CAAC;EAEb,oBACIzB,OAAA;IAAKqE,SAAS,EAAC,sBAAsB;IAAAC,QAAA,gBACjCtE,OAAA;MAAKqE,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACjBtE,OAAA;QACIqE,SAAS,EAAE,cAAcxC,SAAS,KAAK,MAAM,GAAG,QAAQ,GAAG,EAAE,EAAG;QAChE0C,OAAO,EAAEA,CAAA,KAAMzC,YAAY,CAAC,MAAM,CAAE;QAAAwC,QAAA,EACvC;MAED;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACT3E,OAAA;QACIqE,SAAS,EAAE,cAAcxC,SAAS,KAAK,WAAW,GAAG,QAAQ,GAAG,EAAE,EAAG;QACrE0C,OAAO,EAAEA,CAAA,KAAMzC,YAAY,CAAC,WAAW,CAAE;QAAAwC,QAAA,EAC5C;MAED;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC,EAEL9C,SAAS,KAAK,MAAM,gBACjB7B,OAAA;MAAKqE,SAAS,EAAC,oBAAoB;MAAAC,QAAA,gBAC/BtE,OAAA;QAAAsE,QAAA,EAAI;MAAqB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAE9B3E,OAAA;QAAKqE,SAAS,EAAC,aAAa;QAAAC,QAAA,gBACxBtE,OAAA;UAAAsE,QAAA,EAAO;QAAa;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC5B3E,OAAA;UACIgE,IAAI,EAAC,QAAQ;UACbY,KAAK,EAAEjE,YAAa;UACpBkE,QAAQ,EAAGC,CAAC,IAAKlE,eAAe,CAACkE,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UACjDI,WAAW,EAAC,qBAAqB;UACjCC,IAAI,EAAC,MAAM;UACXC,GAAG,EAAC;QAAM;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACb,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eAEN3E,OAAA;QAAKqE,SAAS,EAAC,aAAa;QAAAC,QAAA,gBACxBtE,OAAA;UAAAsE,QAAA,EAAO;QAAiB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAChC3E,OAAA;UACIgE,IAAI,EAAC,QAAQ;UACbY,KAAK,EAAE/D,QAAS;UAChBgE,QAAQ,EAAGC,CAAC,IAAKhE,WAAW,CAACgE,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UAC7CI,WAAW,EAAC,gBAAgB;UAC5BC,IAAI,EAAC,GAAG;UACRC,GAAG,EAAC,GAAG;UACPC,GAAG,EAAC;QAAK;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eAEN3E,OAAA;QAAKqE,SAAS,EAAC,aAAa;QAAAC,QAAA,gBACxBtE,OAAA;UAAAsE,QAAA,EAAO;QAA2B;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC1C3E,OAAA;UACIgE,IAAI,EAAC,QAAQ;UACbY,KAAK,EAAE7D,IAAK;UACZ8D,QAAQ,EAAGC,CAAC,IAAK9D,OAAO,CAAC8D,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UACzCI,WAAW,EAAC,4BAA4B;UACxCC,IAAI,EAAC,MAAM;UACXC,GAAG,EAAC;QAAG;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eAEN3E,OAAA;QAAKqE,SAAS,EAAC,sBAAsB;QAAAC,QAAA,eACjCtE,OAAA;UAAAsE,QAAA,gBACItE,OAAA;YACIgE,IAAI,EAAC,UAAU;YACfoB,OAAO,EAAEnE,UAAW;YACpB4D,QAAQ,EAAGC,CAAC,IAAK5D,aAAa,CAAC4D,CAAC,CAACC,MAAM,CAACK,OAAO;UAAE;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpD,CAAC,eAEN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACP,CAAC,eAEN3E,OAAA;QAAKqE,SAAS,EAAC,aAAa;QAAAC,QAAA,gBACxBtE,OAAA;UAAAsE,QAAA,EAAO;QAAa;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC5B3E,OAAA;UACI4E,KAAK,EAAEzD,YAAa;UACpB0D,QAAQ,EAAGC,CAAC,IAAK1D,eAAe,CAAC0D,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UAAAN,QAAA,gBAEjDtE,OAAA;YAAQ4E,KAAK,EAAC,GAAG;YAAAN,QAAA,EAAC;UAAI;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC/B3E,OAAA;YAAQ4E,KAAK,EAAC,GAAG;YAAAN,QAAA,EAAC;UAAK;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC,eAEN3E,OAAA;QACIqE,SAAS,EAAC,aAAa;QACvBE,OAAO,EAAExC,kBAAmB;QAC5BsD,QAAQ,EAAEhE,OAAO,IAAI,CAACb,aAAa,IAAI,CAACG,YAAY,IAAI,CAACE,QAAS;QAAAyD,QAAA,EAEjEjD,OAAO,GAAG,eAAe,GAAG;MAAe;QAAAmD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC,gBAEN3E,OAAA;MAAKqE,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC3BtE,OAAA;QAAAsE,QAAA,EAAI;MAAoB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAE5BlE,SAAS,CAAC6E,MAAM,KAAK,CAAC,gBACnBtF,OAAA;QAAGqE,SAAS,EAAC,cAAc;QAAAC,QAAA,EAAC;MAAiC;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,gBAEjE3E,OAAA;QAAKqE,SAAS,EAAC,2BAA2B;QAAAC,QAAA,eACtCtE,OAAA;UAAOqE,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC9BtE,OAAA;YAAAsE,QAAA,eACItE,OAAA;cAAAsE,QAAA,gBACItE,OAAA;gBAAAsE,QAAA,EAAI;cAAE;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACX3E,OAAA;gBAAAsE,QAAA,EAAI;cAAI;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACb3E,OAAA;gBAAAsE,QAAA,EAAI;cAAI;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACb3E,OAAA;gBAAAsE,QAAA,EAAI;cAAW;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACpB3E,OAAA;gBAAAsE,QAAA,EAAI;cAAQ;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACjB3E,OAAA;gBAAAsE,QAAA,EAAI;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACf3E,OAAA;gBAAAsE,QAAA,EAAI;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACf3E,OAAA;gBAAAsE,QAAA,EAAI;cAAO;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAChB;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eACR3E,OAAA;YAAAsE,QAAA,EACK7D,SAAS,CAAC8E,GAAG,CAAElC,QAAQ,iBACpBrD,OAAA;cAAsBqE,SAAS,EAAEhB,QAAQ,CAACmC,IAAI,GAAG,MAAM,GAAG,QAAS;cAAAlB,QAAA,gBAC/DtE,OAAA;gBAAAsE,QAAA,EAAKjB,QAAQ,CAACG;cAAE;gBAAAgB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACtB3E,OAAA;gBAAAsE,QAAA,EAAKjB,QAAQ,CAAClC,YAAY,KAAK,GAAG,GAAG,MAAM,GAAG;cAAO;gBAAAqD,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC3D3E,OAAA;gBAAAsE,QAAA,EAAKjE,IAAI,CAAC8B,KAAK,CAACwB,OAAO,CAACN,QAAQ,CAAC1C,YAAY,EAAE,OAAO;cAAC;gBAAA6D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC7D3E,OAAA;gBAAAsE,QAAA,EAAKjE,IAAI,CAAC8B,KAAK,CAACwB,OAAO,CAACN,QAAQ,CAACoC,UAAU,EAAE,OAAO;cAAC;gBAAAjB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC3D3E,OAAA;gBAAAsE,QAAA,GAAKjB,QAAQ,CAACxC,QAAQ,EAAC,GAAC;cAAA;gBAAA2D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC7B3E,OAAA;gBAAAsE,QAAA,GAAKjE,IAAI,CAAC8B,KAAK,CAACwB,OAAO,CAACN,QAAQ,CAACO,MAAM,EAAE,OAAO,CAAC,EAAC,GAAC,EAACP,QAAQ,CAACqC,KAAK,GAAG,KAAK,GAAG,QAAQ;cAAA;gBAAAlB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC3F3E,OAAA;gBAAAsE,QAAA,EAAKjB,QAAQ,CAACmC,IAAI,GAAG,MAAM,GAAG;cAAQ;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC5C3E,OAAA;gBAAAsE,QAAA,EACKjB,QAAQ,CAACmC,IAAI,iBACVxF,OAAA,CAAAE,SAAA;kBAAAoE,QAAA,gBACItE,OAAA;oBACIqE,SAAS,EAAC,WAAW;oBACrBE,OAAO,EAAEA,CAAA,KAAMtB,mBAAmB,CAACI,QAAQ,CAACG,EAAE,CAAE;oBAChD6B,QAAQ,EAAEhE,OAAQ;oBAAAiD,QAAA,EACrB;kBAED;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eACT3E,OAAA;oBACIqE,SAAS,EAAC,qBAAqB;oBAC/BE,OAAO,EAAEA,CAAA,KAAMnB,oBAAoB,CAACC,QAAQ,CAACG,EAAE,CAAE;oBACjD6B,QAAQ,EAAEhE,OAAQ;oBAAAiD,QAAA,EACrB;kBAED;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA,eACX;cACL;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CAAC;YAAA,GA3BAtB,QAAQ,CAACG,EAAE;cAAAgB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OA4BhB,CACP;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACP,CACR;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CACR,EAEApD,KAAK,iBAAIvB,OAAA;MAAGqE,SAAS,EAAC,eAAe;MAAAC,QAAA,EAAE/C;IAAK;MAAAiD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACjDlD,OAAO,iBAAIzB,OAAA;MAAGqE,SAAS,EAAC,iBAAiB;MAAAC,QAAA,EAAE3C;IAAc;MAAA6C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAE9D,CAACnE,aAAa,iBACXR,OAAA;MAAGqE,SAAS,EAAC,iBAAiB;MAAAC,QAAA,EAAC;IAA+C;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CACpF;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd,CAAC;AAACvE,EAAA,CA9TID,cAAc;EAAA,QACmEL,OAAO;AAAA;AAAA6F,EAAA,GADxFxF,cAAc;AAgUpB,eAAeA,cAAc;AAAC,IAAAwF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
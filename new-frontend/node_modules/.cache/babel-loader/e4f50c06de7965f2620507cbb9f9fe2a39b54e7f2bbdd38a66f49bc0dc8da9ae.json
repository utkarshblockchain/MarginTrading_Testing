{"ast":null,"code":"import React from'react';import{useWeb3}from'../context/Web3Context';import'../styles/Dashboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const{isInitialized,ethMargin,tokenMargin,positions,positionCount}=useWeb3();// Calculate total position value\nconst calculateTotalPositionValue=()=>{if(!positions||positions.length===0)return 0;return positions.reduce((total,position)=>{if(!position.open)return total;return total+parseFloat(position.positionSize)*parseFloat(position.entryPrice)/10**18;},0);};// Calculate total PnL\nconst calculateTotalPnL=()=>{if(!positions||positions.length===0)return 0;return positions.reduce((total,position)=>{return total+parseFloat(position.realizedPnL)/10**18;},0);};// Calculate total fees paid\nconst calculateTotalFees=()=>{if(!positions||positions.length===0)return 0;return positions.reduce((total,position)=>{return total+parseFloat(position.fees)/10**18;},0);};// Count open positions\nconst countOpenPositions=()=>{if(!positions||positions.length===0)return 0;return positions.filter(position=>position.open).length;};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Trading Dashboard\"}),!isInitialized?/*#__PURE__*/_jsx(\"div\",{className:\"connect-prompt\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Please connect your wallet to view your trading dashboard.\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-cards\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"ETH Margin\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"value\",children:[parseFloat(ethMargin).toFixed(4),\" ETH\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Token Margin\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"value\",children:[parseFloat(tokenMargin).toFixed(4),\" Tokens\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Positions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"value\",children:positionCount})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Open Positions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"value\",children:countOpenPositions()})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-stats\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Total Position Value:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[\"$\",calculateTotalPositionValue().toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Total Realized PnL:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[\"$\",calculateTotalPnL().toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"stat-label\",children:\"Total Fees Paid:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-value\",children:[\"$\",calculateTotalFees().toFixed(4)]})]})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useWeb3","jsx","_jsx","jsxs","_jsxs","Dashboard","isInitialized","ethMargin","tokenMargin","positions","positionCount","calculateTotalPositionValue","length","reduce","total","position","open","parseFloat","positionSize","entryPrice","calculateTotalPnL","realizedPnL","calculateTotalFees","fees","countOpenPositions","filter","className","children","toFixed"],"sources":["C:/Users/UTKARSH/MarginTrading_Testing/new-frontend/src/components/Dashboard.js"],"sourcesContent":["import React from 'react';\nimport { useWeb3 } from '../context/Web3Context';\nimport '../styles/Dashboard.css';\n\nconst Dashboard = () => {\n    const { \n        isInitialized, \n        ethMargin, \n        tokenMargin, \n        positions,\n        positionCount\n    } = useWeb3();\n\n    // Calculate total position value\n    const calculateTotalPositionValue = () => {\n        if (!positions || positions.length === 0) return 0;\n        \n        return positions.reduce((total, position) => {\n            if (!position.open) return total;\n            return total + (parseFloat(position.positionSize) * parseFloat(position.entryPrice) / 10**18);\n        }, 0);\n    };\n\n    // Calculate total PnL\n    const calculateTotalPnL = () => {\n        if (!positions || positions.length === 0) return 0;\n        \n        return positions.reduce((total, position) => {\n            return total + parseFloat(position.realizedPnL) / 10**18;\n        }, 0);\n    };\n\n    // Calculate total fees paid\n    const calculateTotalFees = () => {\n        if (!positions || positions.length === 0) return 0;\n        \n        return positions.reduce((total, position) => {\n            return total + parseFloat(position.fees) / 10**18;\n        }, 0);\n    };\n\n    // Count open positions\n    const countOpenPositions = () => {\n        if (!positions || positions.length === 0) return 0;\n        \n        return positions.filter(position => position.open).length;\n    };\n\n    return (\n        <div className=\"dashboard\">\n            <h2>Trading Dashboard</h2>\n            \n            {!isInitialized ? (\n                <div className=\"connect-prompt\">\n                    <p>Please connect your wallet to view your trading dashboard.</p>\n                </div>\n            ) : (\n                <div className=\"dashboard-content\">\n                    <div className=\"dashboard-cards\">\n                        <div className=\"dashboard-card\">\n                            <h3>ETH Margin</h3>\n                            <p className=\"value\">{parseFloat(ethMargin).toFixed(4)} ETH</p>\n                        </div>\n                        \n                        <div className=\"dashboard-card\">\n                            <h3>Token Margin</h3>\n                            <p className=\"value\">{parseFloat(tokenMargin).toFixed(4)} Tokens</p>\n                        </div>\n                        \n                        <div className=\"dashboard-card\">\n                            <h3>Total Positions</h3>\n                            <p className=\"value\">{positionCount}</p>\n                        </div>\n                        \n                        <div className=\"dashboard-card\">\n                            <h3>Open Positions</h3>\n                            <p className=\"value\">{countOpenPositions()}</p>\n                        </div>\n                    </div>\n                    \n                    <div className=\"dashboard-stats\">\n                        <div className=\"stat-item\">\n                            <span className=\"stat-label\">Total Position Value:</span>\n                            <span className=\"stat-value\">${calculateTotalPositionValue().toFixed(2)}</span>\n                        </div>\n                        \n                        <div className=\"stat-item\">\n                            <span className=\"stat-label\">Total Realized PnL:</span>\n                            <span className=\"stat-value\">${calculateTotalPnL().toFixed(2)}</span>\n                        </div>\n                        \n                        <div className=\"stat-item\">\n                            <span className=\"stat-label\">Total Fees Paid:</span>\n                            <span className=\"stat-value\">${calculateTotalFees().toFixed(4)}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}